<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>airflow_analysis: E:/00_Code/incubator-airflow-master/airflow/operators/sensors.py Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">airflow_analysis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e38cca866e3d74f67c36b6eb5e35f8b2.html">00_Code</a></li><li class="navelem"><a class="el" href="dir_65e942cb2a6d7f3741947805ab82f3ea.html">incubator-airflow-master</a></li><li class="navelem"><a class="el" href="dir_ce3556b84cc4b24107c3902484127a1c.html">airflow</a></li><li class="navelem"><a class="el" href="dir_a3cd50275f6ce79813358f4243f89692.html">operators</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">sensors.py</div>  </div>
</div><!--header-->
<div class="contents">
<a href="airflow_2operators_2sensors_8py.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespaceairflow_1_1operators_1_1sensors.html">    1</a></span>&#160;<span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"># you may not use this file except in compliance with the License.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"># You may obtain a copy of the License at</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"># http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"># Unless required by applicable law or agreed to in writing, software</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"># See the License for the specific language governing permissions and</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"># limitations under the License.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">from</span> __future__ <span class="keyword">import</span> print_function</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">from</span> future <span class="keyword">import</span> standard_library</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;standard_library.install_aliases()</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">from</span> builtins <span class="keyword">import</span> str</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">from</span> past.builtins <span class="keyword">import</span> basestring</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">import</span> logging</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlparse</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">from</span> time <span class="keyword">import</span> sleep</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">import</span> re</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">import</span> sys</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">import</span> airflow</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">from</span> airflow <span class="keyword">import</span> hooks, settings</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">from</span> <a class="code" href="namespaceairflow_1_1exceptions.html">airflow.exceptions</a> <span class="keyword">import</span> AirflowException, AirflowSensorTimeout, AirflowSkipException</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">from</span> <a class="code" href="namespaceairflow_1_1models.html">airflow.models</a> <span class="keyword">import</span> BaseOperator, TaskInstance</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">from</span> <a class="code" href="namespaceairflow_1_1hooks_1_1base__hook.html">airflow.hooks.base_hook</a> <span class="keyword">import</span> BaseHook</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">from</span> <a class="code" href="namespaceairflow_1_1hooks_1_1hdfs__hook.html">airflow.hooks.hdfs_hook</a> <span class="keyword">import</span> HDFSHook</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">from</span> <a class="code" href="namespaceairflow_1_1utils_1_1state.html">airflow.utils.state</a> <span class="keyword">import</span> State</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">from</span> <a class="code" href="namespaceairflow_1_1utils_1_1decorators.html">airflow.utils.decorators</a> <span class="keyword">import</span> apply_defaults</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html">   38</a></span>&#160;<span class="keyword">class </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html">BaseSensorOperator</a>(<a class="code" href="classairflow_1_1models_1_1_base_operator.html">BaseOperator</a>):</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="stringliteral">    Sensor operators are derived from this class an inherit these attributes.</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="stringliteral">    Sensor operators keep executing at a time interval and succeed when</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="stringliteral">        a criteria is met and fail if and when they time out.</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="stringliteral">    :param soft_fail: Set to true to mark the task as SKIPPED on failure</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="stringliteral">    :type soft_fail: bool</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="stringliteral">    :param poke_interval: Time in seconds that the job should wait in</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="stringliteral">        between each tries</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="stringliteral">    :type poke_interval: int</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="stringliteral">    :param timeout: Time, in seconds before the task times out and fails.</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="stringliteral">    :type timeout: int</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#a7f28ef1397d11ed1ac7ca8de98261117">   53</a></span>&#160;    ui_color = <span class="stringliteral">&#39;#e6f1f2&#39;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    @apply_defaults</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#aad25b1eac6cd02b8da2c27ad7a623855">__init__</a>(</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            self,</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            poke_interval=60,</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            timeout=60*60*24*7,</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            soft_fail=False,</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#aad25b1eac6cd02b8da2c27ad7a623855">   61</a></span>&#160;            *args, **kwargs):</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        super(BaseSensorOperator, self).<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#aad25b1eac6cd02b8da2c27ad7a623855">__init__</a>(*args, **kwargs)</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#aad84fc6c40f04f5f78dc10253046b2bd">   63</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#aad84fc6c40f04f5f78dc10253046b2bd">poke_interval</a> = poke_interval</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#a8fc53ee942481c2c3fc0b3346b95644a">   64</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#a8fc53ee942481c2c3fc0b3346b95644a">soft_fail</a> = soft_fail</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#ab1f846e30486abdb870c904d37ff3f7c">   65</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#ab1f846e30486abdb870c904d37ff3f7c">timeout</a> = timeout</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#a96f27ebc6210a655e4343bd6565a464d">   67</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#a96f27ebc6210a655e4343bd6565a464d">poke</a>(self, context):</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="stringliteral">        Function that the sensors defined while deriving this class should</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="stringliteral">        override.</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">raise</span> <a class="code" href="classairflow_1_1exceptions_1_1_airflow_exception.html">AirflowException</a>(<span class="stringliteral">&#39;Override me.&#39;</span>)</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#a165165d191009f1eef8713593978d542">   74</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#a165165d191009f1eef8713593978d542">execute</a>(self, context):</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        started_at = datetime.now()</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keywordflow">while</span> <span class="keywordflow">not</span> self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#a96f27ebc6210a655e4343bd6565a464d">poke</a>(context):</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="keywordflow">if</span> (datetime.now() - started_at).total_seconds() &gt; self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#ab1f846e30486abdb870c904d37ff3f7c">timeout</a>:</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#a8fc53ee942481c2c3fc0b3346b95644a">soft_fail</a>:</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                    <span class="keywordflow">raise</span> <a class="code" href="classairflow_1_1exceptions_1_1_airflow_skip_exception.html">AirflowSkipException</a>(<span class="stringliteral">&#39;Snap. Time is OUT.&#39;</span>)</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                    <span class="keywordflow">raise</span> <a class="code" href="classairflow_1_1exceptions_1_1_airflow_sensor_timeout.html">AirflowSensorTimeout</a>(<span class="stringliteral">&#39;Snap. Time is OUT.&#39;</span>)</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            sleep(self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#aad84fc6c40f04f5f78dc10253046b2bd">poke_interval</a>)</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        logging.info(<span class="stringliteral">&quot;Success criteria met. Exiting.&quot;</span>)</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html">   86</a></span>&#160;<span class="keyword">class </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html">SqlSensor</a>(<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html">BaseSensorOperator</a>):</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="stringliteral">    Runs a sql statement until a criteria is met. It will keep trying until</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="stringliteral">    sql returns no row, or if the first cell in (0, &#39;0&#39;, &#39;&#39;).</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="stringliteral">    :param conn_id: The connection to run the sensor against</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="stringliteral">    :type conn_id: string</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="stringliteral">    :param sql: The sql to run. To pass, it needs to return at least one cell</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="stringliteral">        that contains a non-zero / empty string value.</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#a9491b7c137b07e182c82dc107206232a">   96</a></span>&#160;    template_fields = (<span class="stringliteral">&#39;sql&#39;</span>,)</div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#a28afc383cde00bdf742a5f18e09a3b1a">   97</a></span>&#160;    template_ext = (<span class="stringliteral">&#39;.hql&#39;</span>, <span class="stringliteral">&#39;.sql&#39;</span>,)</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#a79bad37193d99c6e1a805dbe58d7a2e5">   98</a></span>&#160;    ui_color = <span class="stringliteral">&#39;#7c7287&#39;</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    @apply_defaults</div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#a872545fc12738c508fe8294b5170eed1">  101</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#a872545fc12738c508fe8294b5170eed1">__init__</a>(self, conn_id, sql, *args, **kwargs):</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#aa7e5191fdfb1e60cc7b48f7e6053d925">  102</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#aa7e5191fdfb1e60cc7b48f7e6053d925">sql</a> = sql</div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#a1b2d01f8c19aff27fc2afd87ddf1cf25">  103</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#a1b2d01f8c19aff27fc2afd87ddf1cf25">conn_id</a> = conn_id</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        super(SqlSensor, self).<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#a872545fc12738c508fe8294b5170eed1">__init__</a>(*args, **kwargs)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#abdb5aea204c316fd13d0e94552bf39e5">  106</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#abdb5aea204c316fd13d0e94552bf39e5">poke</a>(self, context):</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        hook = BaseHook.get_connection(self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#a1b2d01f8c19aff27fc2afd87ddf1cf25">conn_id</a>).get_hook()</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        logging.info(<span class="stringliteral">&#39;Poking: &#39;</span> + self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#aa7e5191fdfb1e60cc7b48f7e6053d925">sql</a>)</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        records = hook.get_records(self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#aa7e5191fdfb1e60cc7b48f7e6053d925">sql</a>)</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> records:</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="keywordflow">if</span> str(records[0][0]) <span class="keywordflow">in</span> (<span class="stringliteral">&#39;0&#39;</span>, <span class="stringliteral">&#39;&#39;</span>,):</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">True</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            print(records[0][0])</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html">  121</a></span>&#160;<span class="keyword">class </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html">MetastorePartitionSensor</a>(<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html">SqlSensor</a>):</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="stringliteral">    An alternative to the HivePartitionSensor that talk directly to the</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="stringliteral">    MySQL db. This was created as a result of observing sub optimal</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="stringliteral">    queries generated by the Metastore thrift service when hitting</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="stringliteral">    subpartitioned tables. The Thrift service&#39;s queries were written in a</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="stringliteral">    way that wouldn&#39;t leverage the indexes.</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="stringliteral">    :param schema: the schema</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="stringliteral">    :type schema: str</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="stringliteral">    :param table: the table</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="stringliteral">    :type table: str</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="stringliteral">    :param partition_name: the partition name, as defined in the PARTITIONS</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="stringliteral">        table of the Metastore. Order of the fields does matter.</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="stringliteral">        Examples: ``ds=2016-01-01`` or</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="stringliteral">        ``ds=2016-01-01/sub=foo`` for a sub partitioned table</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="stringliteral">    :type partition_name: str</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="stringliteral">    :param mysql_conn_id: a reference to the MySQL conn_id for the metastore</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="stringliteral">    :type mysql_conn_id: str</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#ada4edc100fe9aa930fe75a685eb6b529">  141</a></span>&#160;    template_fields = (<span class="stringliteral">&#39;partition_name&#39;</span>, <span class="stringliteral">&#39;table&#39;</span>, <span class="stringliteral">&#39;schema&#39;</span>)</div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#ae589e2f034a4563d3400c5fd1ff76b88">  142</a></span>&#160;    ui_color = <span class="stringliteral">&#39;#8da7be&#39;</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    @apply_defaults</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a0e2b15085b09e65f3c3c8a5d57391b89">__init__</a>(</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            self, table, partition_name, schema=&quot;default&quot;,</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            mysql_conn_id=&quot;metastore_mysql&quot;,</div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a0e2b15085b09e65f3c3c8a5d57391b89">  148</a></span>&#160;            *args, **kwargs):</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a8631cd3b1aad4f42e1970cab00f9fecc">  150</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a8631cd3b1aad4f42e1970cab00f9fecc">partition_name</a> = partition_name</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a853257992f134a0809114a71a106cf34">  151</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a853257992f134a0809114a71a106cf34">table</a> = table</div><div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a6c972b8d2a9637ddcce7cfaa3eba2ce8">  152</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a6c972b8d2a9637ddcce7cfaa3eba2ce8">schema</a> = schema</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#aa221ab3a4fb07b1ea1a9681ceb9d0d50">  153</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#aa221ab3a4fb07b1ea1a9681ceb9d0d50">first_poke</a> = <span class="keyword">True</span></div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#ab2b76a000fa211341fb99f7605eff0e0">  154</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#a1b2d01f8c19aff27fc2afd87ddf1cf25">conn_id</a> = mysql_conn_id</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="comment"># TODO(aoen): We shouldn&#39;t be using SqlSensor here but MetastorePartitionSensor.</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="comment"># The problem is the way apply_defaults works isn&#39;t compatible with inheritance.</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="comment"># The inheritance model needs to be reworked in order to support overriding args/</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="comment"># kwargs with arguments here, then &#39;conn_id&#39; and &#39;sql&#39; can be passed into the</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="comment"># constructor below and apply_defaults will no longer throw an exception.</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        super(SqlSensor, self).<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a0e2b15085b09e65f3c3c8a5d57391b89">__init__</a>(*args, **kwargs)</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a78383bf540f518292005bf3d0f9810fe">  162</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a78383bf540f518292005bf3d0f9810fe">poke</a>(self, context):</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#aa221ab3a4fb07b1ea1a9681ceb9d0d50">first_poke</a>:</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#aa221ab3a4fb07b1ea1a9681ceb9d0d50">first_poke</a> = <span class="keyword">False</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="keywordflow">if</span> <span class="stringliteral">&#39;.&#39;</span> <span class="keywordflow">in</span> self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a853257992f134a0809114a71a106cf34">table</a>:</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a6c972b8d2a9637ddcce7cfaa3eba2ce8">schema</a>, self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a853257992f134a0809114a71a106cf34">table</a> = self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a853257992f134a0809114a71a106cf34">table</a>.split(<span class="stringliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a8500b26ad4bb90c2582e91852e4d87fe">  167</a></span>&#160;            self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#aa7e5191fdfb1e60cc7b48f7e6053d925">sql</a> = <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="stringliteral">            SELECT &#39;X&#39;</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="stringliteral">            FROM PARTITIONS A0</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="stringliteral">            LEFT OUTER JOIN TBLS B0 ON A0.TBL_ID = B0.TBL_ID</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="stringliteral">            LEFT OUTER JOIN DBS C0 ON B0.DB_ID = C0.DB_ID</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="stringliteral">            WHERE</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="stringliteral">                B0.TBL_NAME = &#39;{self.table}&#39; AND</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="stringliteral">                C0.NAME = &#39;{self.schema}&#39; AND</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="stringliteral">                A0.PART_NAME = &#39;{self.partition_name}&#39;;</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="stringliteral">            &quot;&quot;&quot;</span>.format(self=self)</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">return</span> super(MetastorePartitionSensor, self).<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a78383bf540f518292005bf3d0f9810fe">poke</a>(context)</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html">  180</a></span>&#160;<span class="keyword">class </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html">ExternalTaskSensor</a>(<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html">BaseSensorOperator</a>):</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="stringliteral">    Waits for a task to complete in a different DAG</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="stringliteral">    :param external_dag_id: The dag_id that contains the task you want to</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="stringliteral">        wait for</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="stringliteral">    :type external_dag_id: string</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="stringliteral">    :param external_task_id: The task_id that contains the task you want to</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="stringliteral">        wait for</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="stringliteral">    :type external_task_id: string</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="stringliteral">    :param allowed_states: list of allowed states, default is ``[&#39;success&#39;]``</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="stringliteral">    :type allowed_states: list</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="stringliteral">    :param execution_delta: time difference with the previous execution to</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="stringliteral">        look at, the default is the same execution_date as the current task.</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="stringliteral">        For yesterday, use [positive!] datetime.timedelta(days=1). Either</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="stringliteral">        execution_delta or execution_date_fn can be passed to</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="stringliteral">        ExternalTaskSensor, but not both.</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="stringliteral">    :type execution_delta: datetime.timedelta</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="stringliteral">    :param execution_date_fn: function that receives the current execution date</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="stringliteral">        and returns the desired execution date to query. Either execution_delta</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="stringliteral">        or execution_date_fn can be passed to ExternalTaskSensor, but not both.</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="stringliteral">    :type execution_date_fn: callable</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ab88de8245d2b52589b50379d2882ca4f">  203</a></span>&#160;    ui_color = <span class="stringliteral">&#39;#19647e&#39;</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    @apply_defaults</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ab41e5d4c462bcadfee2358d2d739c516">__init__</a>(</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            self,</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            external_dag_id,</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            external_task_id,</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            allowed_states=None,</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            execution_delta=None,</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            execution_date_fn=None,</div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ab41e5d4c462bcadfee2358d2d739c516">  213</a></span>&#160;            *args, **kwargs):</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        super(ExternalTaskSensor, self).<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ab41e5d4c462bcadfee2358d2d739c516">__init__</a>(*args, **kwargs)</div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ac1eaab7e54590664106f71b31a4ed9c4">  215</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ac1eaab7e54590664106f71b31a4ed9c4">allowed_states</a> = allowed_states <span class="keywordflow">or</span> [State.SUCCESS]</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">if</span> execution_delta <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> execution_date_fn <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="keywordflow">raise</span> ValueError(</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                <span class="stringliteral">&#39;Only one of `execution_date` or `execution_date_fn` may&#39;</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                <span class="stringliteral">&#39;be provided to ExternalTaskSensor; not both.&#39;</span>)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ab8eeed41d7347f5c0ba3ebd01103bb8a">  221</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ab8eeed41d7347f5c0ba3ebd01103bb8a">execution_delta</a> = execution_delta</div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ac5f2b7522feb55b7d028a26eed8fbde8">  222</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ac5f2b7522feb55b7d028a26eed8fbde8">execution_date_fn</a> = execution_date_fn</div><div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#a3f2c2d3a7a5a1d8ba74015d1ba023abf">  223</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#a3f2c2d3a7a5a1d8ba74015d1ba023abf">external_dag_id</a> = external_dag_id</div><div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ab19946231e904900154d8c6e2cf1229b">  224</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ab19946231e904900154d8c6e2cf1229b">external_task_id</a> = external_task_id</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#a719fb3b5233f62c01c80827b33b40aef">  226</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#a719fb3b5233f62c01c80827b33b40aef">poke</a>(self, context):</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ab8eeed41d7347f5c0ba3ebd01103bb8a">execution_delta</a>:</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            dttm = context[<span class="stringliteral">&#39;execution_date&#39;</span>] - self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ab8eeed41d7347f5c0ba3ebd01103bb8a">execution_delta</a></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">elif</span> self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ac5f2b7522feb55b7d028a26eed8fbde8">execution_date_fn</a>:</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            dttm = self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ac5f2b7522feb55b7d028a26eed8fbde8">execution_date_fn</a>(context[<span class="stringliteral">&#39;execution_date&#39;</span>])</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            dttm = context[<span class="stringliteral">&#39;execution_date&#39;</span>]</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        logging.info(</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="stringliteral">&#39;Poking for &#39;</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="stringliteral">&#39;{self.external_dag_id}.&#39;</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="stringliteral">&#39;{self.external_task_id} on &#39;</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="stringliteral">&#39;{dttm} ... &#39;</span>.format(**locals()))</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        TI = TaskInstance</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        session = settings.Session()</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        count = session.query(TI).filter(</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            TI.dag_id == self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#a3f2c2d3a7a5a1d8ba74015d1ba023abf">external_dag_id</a>,</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            TI.task_id == self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ab19946231e904900154d8c6e2cf1229b">external_task_id</a>,</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            TI.state.in_(self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ac1eaab7e54590664106f71b31a4ed9c4">allowed_states</a>),</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            TI.execution_date == dttm,</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        ).count()</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        session.commit()</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        session.close()</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">return</span> count</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html">  253</a></span>&#160;<span class="keyword">class </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html">NamedHivePartitionSensor</a>(<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html">BaseSensorOperator</a>):</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="stringliteral">    Waits for a set of partitions to show up in Hive.</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="stringliteral">    :param partition_names: List of fully qualified names of the</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="stringliteral">        partitions to wait for. A fully qualified name is of the</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="stringliteral">        form ``schema.table/pk1=pv1/pk2=pv2``, for example,</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="stringliteral">        default.users/ds=2016-01-01. This is passed as is to the metastore</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="stringliteral">        Thrift client ``get_partitions_by_name`` method. Note that</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="stringliteral">        you cannot use logical or comparison operators as in</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="stringliteral">        HivePartitionSensor.</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="stringliteral">    :type partition_names: list of strings</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="stringliteral">    :param metastore_conn_id: reference to the metastore thrift service</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="stringliteral">        connection id</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="stringliteral">    :type metastore_conn_id: str</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#ae6eb9c63b9faf1a267ec9d616b8c1c5f">  270</a></span>&#160;    template_fields = (<span class="stringliteral">&#39;partition_names&#39;</span>, )</div><div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a904655aa8cde40fc5fb1f2a20f9298af">  271</a></span>&#160;    ui_color = <span class="stringliteral">&#39;#8d99ae&#39;</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    @apply_defaults</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a874fedd032631f47c959ea886946fd25">__init__</a>(</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            self,</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            partition_names,</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            metastore_conn_id=&#39;metastore_default&#39;,</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            poke_interval=60 * 3,</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            *args,</div><div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a874fedd032631f47c959ea886946fd25">  280</a></span>&#160;            **kwargs):</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        super(NamedHivePartitionSensor, self).<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a874fedd032631f47c959ea886946fd25">__init__</a>(</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            poke_interval=poke_interval, *args, **kwargs)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">if</span> isinstance(partition_names, basestring):</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;partition_names must be an array of strings&#39;</span>)</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a7d259d84599c410c9ca88fac70341dec">  287</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a7d259d84599c410c9ca88fac70341dec">metastore_conn_id</a> = metastore_conn_id</div><div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a56f813402d9c9c8fea05a56783ff24fd">  288</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a56f813402d9c9c8fea05a56783ff24fd">partition_names</a> = partition_names</div><div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#ac921fe8b9b0a144a353a82307a901423">  289</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#ac921fe8b9b0a144a353a82307a901423">next_poke_idx</a> = 0</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    @classmethod</div><div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a53f743ddfe23d3bdbc5b56bd917c8294">  292</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a53f743ddfe23d3bdbc5b56bd917c8294">parse_partition_name</a>(self, partition):</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">try</span>:</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            schema, table_partition = partition.split(<span class="stringliteral">&#39;.&#39;</span>, 1)</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            table, partition = table_partition.split(<span class="stringliteral">&#39;/&#39;</span>, 1)</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <span class="keywordflow">return</span> schema, table, partition</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">except</span> ValueError <span class="keyword">as</span> e:</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;Could not parse &#39;</span> + partition)</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a9c77ade040e3a3c847729e9a5e16585d">  300</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a9c77ade040e3a3c847729e9a5e16585d">poke</a>(self, context):</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(self, <span class="stringliteral">&#39;hook&#39;</span>):</div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#ad81465ec4f32461fa0bfaace9d5f21a3">  303</a></span>&#160;            self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#ad81465ec4f32461fa0bfaace9d5f21a3">hook</a> = <a class="code" href="classairflow_1_1hooks_1_1hive__hooks_1_1_hive_metastore_hook.html">airflow.hooks.hive_hooks.HiveMetastoreHook</a>(</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                metastore_conn_id=self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a7d259d84599c410c9ca88fac70341dec">metastore_conn_id</a>)</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="keyword">def </span>poke_partition(partition):</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            schema, table, partition = self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a53f743ddfe23d3bdbc5b56bd917c8294">parse_partition_name</a>(partition)</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            logging.info(</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                <span class="stringliteral">&#39;Poking for {schema}.{table}/{partition}&#39;</span>.format(**locals())</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            )</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="keywordflow">return</span> self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#ad81465ec4f32461fa0bfaace9d5f21a3">hook</a>.check_for_named_partition(</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                schema, table, partition)</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordflow">while</span> self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#ac921fe8b9b0a144a353a82307a901423">next_poke_idx</a> &lt; len(self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a56f813402d9c9c8fea05a56783ff24fd">partition_names</a>):</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="keywordflow">if</span> poke_partition(self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a56f813402d9c9c8fea05a56783ff24fd">partition_names</a>[self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#ac921fe8b9b0a144a353a82307a901423">next_poke_idx</a>]):</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#ac921fe8b9b0a144a353a82307a901423">next_poke_idx</a> += 1</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">True</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html">  325</a></span>&#160;<span class="keyword">class </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html">HivePartitionSensor</a>(<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html">BaseSensorOperator</a>):</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="stringliteral">    Waits for a partition to show up in Hive.</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="stringliteral">    Note: Because ``partition`` supports general logical operators, it</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="stringliteral">    can be inefficient. Consider using NamedHivePartitionSensor instead if</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="stringliteral">    you don&#39;t need the full flexibility of HivePartitionSensor.</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="stringliteral">    :param table: The name of the table to wait for, supports the dot</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="stringliteral">        notation (my_database.my_table)</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="stringliteral">    :type table: string</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="stringliteral">    :param partition: The partition clause to wait for. This is passed as</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="stringliteral">        is to the metastore Thrift client ``get_partitions_by_filter`` method,</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="stringliteral">        and apparently supports SQL like notation as in ``ds=&#39;2015-01-01&#39;</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="stringliteral">        AND type=&#39;value&#39;`` and comparison operators as in ``&quot;ds&gt;=2015-01-01&quot;``</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="stringliteral">    :type partition: string</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="stringliteral">    :param metastore_conn_id: reference to the metastore thrift service</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="stringliteral">        connection id</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="stringliteral">    :type metastore_conn_id: str</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div><div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#ace23358fae53f588ee52587b76d67d59">  345</a></span>&#160;    template_fields = (<span class="stringliteral">&#39;schema&#39;</span>, <span class="stringliteral">&#39;table&#39;</span>, <span class="stringliteral">&#39;partition&#39;</span>,)</div><div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#adbb0987b736ada92772c92ceb1dfdc7f">  346</a></span>&#160;    ui_color = <span class="stringliteral">&#39;#2b2d42&#39;</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    @apply_defaults</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a045e441259a4665d1c051ca588c8fcfd">__init__</a>(</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            self,</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            table, partition=&quot;ds=&#39;{{ ds }}&#39;&quot;,</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            metastore_conn_id=&#39;metastore_default&#39;,</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            schema=&#39;default&#39;,</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            poke_interval=60*3,</div><div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a045e441259a4665d1c051ca588c8fcfd">  355</a></span>&#160;            *args, **kwargs):</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        super(HivePartitionSensor, self).<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a045e441259a4665d1c051ca588c8fcfd">__init__</a>(</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            poke_interval=poke_interval, *args, **kwargs)</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> partition:</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            partition = <span class="stringliteral">&quot;ds=&#39;{{ ds }}&#39;&quot;</span></div><div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#aa5d8dc88379f4821ddafa39652e3b7fe">  360</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#aa5d8dc88379f4821ddafa39652e3b7fe">metastore_conn_id</a> = metastore_conn_id</div><div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a2c7c8902aad871a49c8b96f55ce297b4">  361</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a2c7c8902aad871a49c8b96f55ce297b4">table</a> = table</div><div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a980e6b0f33790758d6974c05d0badd62">  362</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a980e6b0f33790758d6974c05d0badd62">partition</a> = partition</div><div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#af305dcbdb0abb8132982d1bc3dff8c3c">  363</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#af305dcbdb0abb8132982d1bc3dff8c3c">schema</a> = schema</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a0c324a98ebc002ac34c2376304b76d6d">  365</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a0c324a98ebc002ac34c2376304b76d6d">poke</a>(self, context):</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">if</span> <span class="stringliteral">&#39;.&#39;</span> <span class="keywordflow">in</span> self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a2c7c8902aad871a49c8b96f55ce297b4">table</a>:</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#af305dcbdb0abb8132982d1bc3dff8c3c">schema</a>, self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a2c7c8902aad871a49c8b96f55ce297b4">table</a> = self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a2c7c8902aad871a49c8b96f55ce297b4">table</a>.split(<span class="stringliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        logging.info(</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <span class="stringliteral">&#39;Poking for table {self.schema}.{self.table}, &#39;</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <span class="stringliteral">&#39;partition {self.partition}&#39;</span>.format(**locals()))</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(self, <span class="stringliteral">&#39;hook&#39;</span>):</div><div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#afc100ed877221d96abcc155f4463840d">  372</a></span>&#160;            self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#afc100ed877221d96abcc155f4463840d">hook</a> = <a class="code" href="classairflow_1_1hooks_1_1hive__hooks_1_1_hive_metastore_hook.html">airflow.hooks.hive_hooks.HiveMetastoreHook</a>(</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                metastore_conn_id=self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#aa5d8dc88379f4821ddafa39652e3b7fe">metastore_conn_id</a>)</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#afc100ed877221d96abcc155f4463840d">hook</a>.check_for_partition(</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#af305dcbdb0abb8132982d1bc3dff8c3c">schema</a>, self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a2c7c8902aad871a49c8b96f55ce297b4">table</a>, self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a980e6b0f33790758d6974c05d0badd62">partition</a>)</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html">  378</a></span>&#160;<span class="keyword">class </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html">HdfsSensor</a>(<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html">BaseSensorOperator</a>):</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="stringliteral">    Waits for a file or folder to land in HDFS</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div><div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a00256a71c54cafc0152e7065060402cf">  382</a></span>&#160;    template_fields = (<span class="stringliteral">&#39;filepath&#39;</span>,)</div><div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a2ef1701bbf4aa4eeaba9948e57b5fb3c">  383</a></span>&#160;    ui_color = settings.WEB_COLORS[<span class="stringliteral">&#39;LIGHTBLUE&#39;</span>]</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    @apply_defaults</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a534842b9af29dcf02acc94ef5f3eaf95">__init__</a>(</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            self,</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            filepath,</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            hdfs_conn_id=&#39;hdfs_default&#39;,</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            ignored_ext=[&#39;_COPYING_&#39;],</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            ignore_copying=True,</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            file_size=None,</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            hook=HDFSHook,</div><div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a534842b9af29dcf02acc94ef5f3eaf95">  394</a></span>&#160;            *args, **kwargs):</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        super(HdfsSensor, self).<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a534842b9af29dcf02acc94ef5f3eaf95">__init__</a>(*args, **kwargs)</div><div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#af4171a48c00bf1ddbb35613513f1e491">  396</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#af4171a48c00bf1ddbb35613513f1e491">filepath</a> = filepath</div><div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a7770ad8899c5edcdc0f3590cb6604da6">  397</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a7770ad8899c5edcdc0f3590cb6604da6">hdfs_conn_id</a> = hdfs_conn_id</div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a9ca7b542a42c536031481052c3cc3e7d">  398</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a9ca7b542a42c536031481052c3cc3e7d">file_size</a> = file_size</div><div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a3d05b08de164587833532c2bcf7f62e8">  399</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a3d05b08de164587833532c2bcf7f62e8">ignored_ext</a> = ignored_ext</div><div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a7139759677c29dd1f8918dd6e564e028">  400</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a7139759677c29dd1f8918dd6e564e028">ignore_copying</a> = ignore_copying</div><div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a840297c8a482feb1a963f68f71adb75e">  401</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a840297c8a482feb1a963f68f71adb75e">hook</a> = hook</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    @staticmethod</div><div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a173bbb257584ceafcf4e72cfef605920">  404</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a173bbb257584ceafcf4e72cfef605920">filter_for_filesize</a>(result, size=None):</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="stringliteral">        Will test the filepath result and test if its size is at least self.filesize</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="stringliteral">        :param result: a list of dicts returned by Snakebite ls</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="stringliteral">        :param size: the file size in MB a file should be at least to trigger True</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="stringliteral">        :return: (bool) depending on the matching criteria</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">if</span> size:</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            logging.debug(<span class="stringliteral">&#39;Filtering for file size &gt;= %s in files: %s&#39;</span>, size, map(<span class="keyword">lambda</span> x: x[<span class="stringliteral">&#39;path&#39;</span>], result))</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            size *= settings.MEGABYTE</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            result = [x <span class="keywordflow">for</span> x <span class="keywordflow">in</span> result <span class="keywordflow">if</span> x[<span class="stringliteral">&#39;length&#39;</span>] &gt;= size]</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            logging.debug(<span class="stringliteral">&#39;HdfsSensor.poke: after size filter result is %s&#39;</span>, result)</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">return</span> result</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    @staticmethod</div><div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a9b51c0ed8d25895867d564c23e4925b0">  419</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a9b51c0ed8d25895867d564c23e4925b0">filter_for_ignored_ext</a>(result, ignored_ext, ignore_copying):</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="stringliteral">        Will filter if instructed to do so the result to remove matching criteria</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="stringliteral">        :param result: (list) of dicts returned by Snakebite ls</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="stringliteral">        :param ignored_ext: (list) of ignored extentions</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="stringliteral">        :param ignore_copying: (bool) shall we ignore ?</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="stringliteral">        :return:</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordflow">if</span> ignore_copying:</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            regex_builder = <span class="stringliteral">&quot;^.*\.(%s$)$&quot;</span> % <span class="stringliteral">&#39;$|&#39;</span>.<a class="code" href="namespaceexample__qubole__operator.html#a3e837ac5199f7d098e4ab1d01761db99">join</a>(ignored_ext)</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            ignored_extentions_regex = re.compile(regex_builder)</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            logging.debug(<span class="stringliteral">&#39;Filtering result for ignored extentions: %s in files %s&#39;</span>, ignored_extentions_regex.pattern,</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                          map(<span class="keyword">lambda</span> x: x[<span class="stringliteral">&#39;path&#39;</span>], result))</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            result = [x <span class="keywordflow">for</span> x <span class="keywordflow">in</span> result <span class="keywordflow">if</span> <span class="keywordflow">not</span> ignored_extentions_regex.match(x[<span class="stringliteral">&#39;path&#39;</span>])]</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            logging.debug(<span class="stringliteral">&#39;HdfsSensor.poke: after ext filter result is %s&#39;</span>, result)</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">return</span> result</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#aa8cf7d72348ee9e8ed5f961629ac74cd">  436</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#aa8cf7d72348ee9e8ed5f961629ac74cd">poke</a>(self, context):</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        sb = self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a840297c8a482feb1a963f68f71adb75e">hook</a>(self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a7770ad8899c5edcdc0f3590cb6604da6">hdfs_conn_id</a>).get_conn()</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        logging.getLogger(<span class="stringliteral">&quot;snakebite&quot;</span>).setLevel(logging.WARNING)</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        logging.info(<span class="stringliteral">&#39;Poking for file {self.filepath} &#39;</span>.format(**locals()))</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="keywordflow">try</span>:</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <span class="comment"># IMOO it&#39;s not right here, as there no raise of any kind.</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <span class="comment"># if the filepath is let&#39;s say &#39;/data/mydirectory&#39;, it&#39;s correct but if it is &#39;/data/mydirectory/*&#39;,</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <span class="comment"># it&#39;s not correct as the directory exists and sb does not raise any error</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="comment"># here is a quick fix</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            result = [f <span class="keywordflow">for</span> f <span class="keywordflow">in</span> sb.ls([self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#af4171a48c00bf1ddbb35613513f1e491">filepath</a>], include_toplevel=<span class="keyword">False</span>)]</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            logging.debug(<span class="stringliteral">&#39;HdfsSensor.poke: result is %s&#39;</span>, result)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            result = self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a9b51c0ed8d25895867d564c23e4925b0">filter_for_ignored_ext</a>(result, self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a3d05b08de164587833532c2bcf7f62e8">ignored_ext</a>, self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a7139759677c29dd1f8918dd6e564e028">ignore_copying</a>)</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            result = self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a173bbb257584ceafcf4e72cfef605920">filter_for_filesize</a>(result, self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a9ca7b542a42c536031481052c3cc3e7d">file_size</a>)</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <span class="keywordflow">return</span> bool(result)</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">except</span>:</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            e = sys.exc_info()</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            logging.debug(<span class="stringliteral">&quot;Caught an exception !: %s&quot;</span>, str(e))</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html">  456</a></span>&#160;<span class="keyword">class </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html">WebHdfsSensor</a>(<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html">BaseSensorOperator</a>):</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="stringliteral">    Waits for a file or folder to land in HDFS</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html#a2b74eb8a6769fb63d5bcf85251854373">  460</a></span>&#160;    template_fields = (<span class="stringliteral">&#39;filepath&#39;</span>,)</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    @apply_defaults</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html#a5ed7bd0a706f66923f6613a5578fb1d0">__init__</a>(</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            self,</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            filepath,</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            webhdfs_conn_id=&#39;webhdfs_default&#39;,</div><div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html#a5ed7bd0a706f66923f6613a5578fb1d0">  467</a></span>&#160;            *args, **kwargs):</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        super(WebHdfsSensor, self).<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html#a5ed7bd0a706f66923f6613a5578fb1d0">__init__</a>(*args, **kwargs)</div><div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html#aa0430e773b821d457dd6879a8b53a885">  469</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html#aa0430e773b821d457dd6879a8b53a885">filepath</a> = filepath</div><div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html#af7d14e0b0fffc9d40a26c6ba6e740012">  470</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html#af7d14e0b0fffc9d40a26c6ba6e740012">webhdfs_conn_id</a> = webhdfs_conn_id</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html#a7e119b580c6a9541670e90d379ea2470">  472</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html#a7e119b580c6a9541670e90d379ea2470">poke</a>(self, context):</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        c = <a class="code" href="classairflow_1_1hooks_1_1webhdfs__hook_1_1_web_h_d_f_s_hook.html">airflow.hooks.webhdfs_hook.WebHDFSHook</a>(self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html#af7d14e0b0fffc9d40a26c6ba6e740012">webhdfs_conn_id</a>)</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        logging.info(</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <span class="stringliteral">&#39;Poking for file {self.filepath} &#39;</span>.format(**locals()))</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">return</span> c.check_for_path(hdfs_path=self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html#aa0430e773b821d457dd6879a8b53a885">filepath</a>)</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html">  479</a></span>&#160;<span class="keyword">class </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html">S3KeySensor</a>(<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html">BaseSensorOperator</a>):</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="stringliteral">    Waits for a key (a file-like instance on S3) to be present in a S3 bucket.</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="stringliteral">    S3 being a key/value it does not support folders. The path is just a key</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="stringliteral">    a resource.</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="stringliteral">    :param bucket_key: The key being waited on. Supports full s3:// style url</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="stringliteral">        or relative path from root level.</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="stringliteral">    :type bucket_key: str</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="stringliteral">    :param bucket_name: Name of the S3 bucket</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="stringliteral">    :type bucket_name: str</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="stringliteral">    :param wildcard_match: whether the bucket_key should be interpreted as a</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="stringliteral">        Unix wildcard pattern</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="stringliteral">    :type wildcard_match: bool</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="stringliteral">    :param s3_conn_id: a reference to the s3 connection</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="stringliteral">    :type s3_conn_id: str</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div><div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#a79677d4252d56bdc6672d78edde686e9">  496</a></span>&#160;    template_fields = (<span class="stringliteral">&#39;bucket_key&#39;</span>, <span class="stringliteral">&#39;bucket_name&#39;</span>)</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    @apply_defaults</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#a29736820f88210102befc6e59ce0c66b">__init__</a>(</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            self, bucket_key,</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            bucket_name=None,</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            wildcard_match=False,</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            s3_conn_id=&#39;s3_default&#39;,</div><div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#a29736820f88210102befc6e59ce0c66b">  504</a></span>&#160;            *args, **kwargs):</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        super(S3KeySensor, self).<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#a29736820f88210102befc6e59ce0c66b">__init__</a>(*args, **kwargs)</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="comment"># Parse</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">if</span> bucket_name <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            parsed_url = urlparse(bucket_key)</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <span class="keywordflow">if</span> parsed_url.netloc == <span class="stringliteral">&#39;&#39;</span>:</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="classairflow_1_1exceptions_1_1_airflow_exception.html">AirflowException</a>(<span class="stringliteral">&#39;Please provide a bucket_name&#39;</span>)</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                bucket_name = parsed_url.netloc</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <span class="keywordflow">if</span> parsed_url.path[0] == <span class="stringliteral">&#39;/&#39;</span>:</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                    bucket_key = parsed_url.path[1:]</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                    bucket_key = parsed_url.path</div><div class="line"><a name="l00517"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#a9fd4de939b7d92a975908070fb57ae9d">  517</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#a9fd4de939b7d92a975908070fb57ae9d">bucket_name</a> = bucket_name</div><div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#ac2b4454c5bd70df40128905c22f5d5ef">  518</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#ac2b4454c5bd70df40128905c22f5d5ef">bucket_key</a> = bucket_key</div><div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#aa53271359e4d88ab67017a18ad3c572a">  519</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#aa53271359e4d88ab67017a18ad3c572a">wildcard_match</a> = wildcard_match</div><div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#ae2178df1491dfa560d56e4d8303c113d">  520</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#ae2178df1491dfa560d56e4d8303c113d">s3_conn_id</a> = s3_conn_id</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#a4057b6f3d99d3d5a745fffe9b7044977">  522</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#a4057b6f3d99d3d5a745fffe9b7044977">poke</a>(self, context):</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="keyword">import</span> <a class="code" href="namespaceairflow_1_1hooks_1_1_s3__hook.html">airflow.hooks.S3_hook</a></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        hook = <a class="code" href="classairflow_1_1hooks_1_1_s3__hook_1_1_s3_hook.html">airflow.hooks.S3_hook.S3Hook</a>(s3_conn_id=self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#ae2178df1491dfa560d56e4d8303c113d">s3_conn_id</a>)</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        full_url = <span class="stringliteral">&quot;s3://&quot;</span> + self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#a9fd4de939b7d92a975908070fb57ae9d">bucket_name</a> + <span class="stringliteral">&quot;/&quot;</span> + self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#ac2b4454c5bd70df40128905c22f5d5ef">bucket_key</a></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        logging.info(<span class="stringliteral">&#39;Poking for key : {full_url}&#39;</span>.format(**locals()))</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#aa53271359e4d88ab67017a18ad3c572a">wildcard_match</a>:</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="keywordflow">return</span> hook.check_for_wildcard_key(self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#ac2b4454c5bd70df40128905c22f5d5ef">bucket_key</a>,</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                                               self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#a9fd4de939b7d92a975908070fb57ae9d">bucket_name</a>)</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <span class="keywordflow">return</span> hook.check_for_key(self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#ac2b4454c5bd70df40128905c22f5d5ef">bucket_key</a>, self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#a9fd4de939b7d92a975908070fb57ae9d">bucket_name</a>)</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html">  534</a></span>&#160;<span class="keyword">class </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html">S3PrefixSensor</a>(<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html">BaseSensorOperator</a>):</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="stringliteral">    Waits for a prefix to exist. A prefix is the first part of a key,</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="stringliteral">    thus enabling checking of constructs similar to glob airfl* or</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="stringliteral">    SQL LIKE &#39;airfl%&#39;. There is the possibility to precise a delimiter to</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="stringliteral">    indicate the hierarchy or keys, meaning that the match will stop at that</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="stringliteral">    delimiter. Current code accepts sane delimiters, i.e. characters that</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="stringliteral">    are NOT special characters in the Python regex engine.</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="stringliteral">    :param bucket_name: Name of the S3 bucket</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="stringliteral">    :type bucket_name: str</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="stringliteral">    :param prefix: The prefix being waited on. Relative path from bucket root level.</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="stringliteral">    :type prefix: str</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="stringliteral">    :param delimiter: The delimiter intended to show hierarchy.</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="stringliteral">        Defaults to &#39;/&#39;.</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="stringliteral">    :type delimiter: str</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div><div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a1206fa2307d065bda16ca8fbbdf46b4d">  551</a></span>&#160;    template_fields = (<span class="stringliteral">&#39;prefix&#39;</span>, <span class="stringliteral">&#39;bucket_name&#39;</span>)</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    @apply_defaults</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a4584a7dc15f39846bfcaa974fb0bbf27">__init__</a>(</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            self, bucket_name,</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            prefix, delimiter=&#39;/&#39;,</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            s3_conn_id=&#39;s3_default&#39;,</div><div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a4584a7dc15f39846bfcaa974fb0bbf27">  558</a></span>&#160;            *args, **kwargs):</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        super(S3PrefixSensor, self).<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a4584a7dc15f39846bfcaa974fb0bbf27">__init__</a>(*args, **kwargs)</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="comment"># Parse</span></div><div class="line"><a name="l00561"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a7e13b160a28efe7f5913846c749dbb10">  561</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a7e13b160a28efe7f5913846c749dbb10">bucket_name</a> = bucket_name</div><div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#ad59df5955838dedba8ba7db922c2c0e7">  562</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#ad59df5955838dedba8ba7db922c2c0e7">prefix</a> = prefix</div><div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a492d58857bb880570cf8f578b145ce49">  563</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a492d58857bb880570cf8f578b145ce49">delimiter</a> = delimiter</div><div class="line"><a name="l00564"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a4150345e7494eae347c3dd1cc6f8e5be">  564</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a4150345e7494eae347c3dd1cc6f8e5be">full_url</a> = <span class="stringliteral">&quot;s3://&quot;</span> + bucket_name + <span class="stringliteral">&#39;/&#39;</span> + prefix</div><div class="line"><a name="l00565"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a59e03ff8f1f13a0a118658f86bb399bc">  565</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a59e03ff8f1f13a0a118658f86bb399bc">s3_conn_id</a> = s3_conn_id</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#afbbc382257e2be0c6929bc4b40f08350">  567</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#afbbc382257e2be0c6929bc4b40f08350">poke</a>(self, context):</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        logging.info(<span class="stringliteral">&#39;Poking for prefix : {self.prefix}\n&#39;</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                     <span class="stringliteral">&#39;in bucket s3://{self.bucket_name}&#39;</span>.format(**locals()))</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <span class="keyword">import</span> <a class="code" href="namespaceairflow_1_1hooks_1_1_s3__hook.html">airflow.hooks.S3_hook</a></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        hook = <a class="code" href="classairflow_1_1hooks_1_1_s3__hook_1_1_s3_hook.html">airflow.hooks.S3_hook.S3Hook</a>(s3_conn_id=self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a59e03ff8f1f13a0a118658f86bb399bc">s3_conn_id</a>)</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">return</span> hook.check_for_prefix(</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            prefix=self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#ad59df5955838dedba8ba7db922c2c0e7">prefix</a>,</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            delimiter=self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a492d58857bb880570cf8f578b145ce49">delimiter</a>,</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            bucket_name=self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a7e13b160a28efe7f5913846c749dbb10">bucket_name</a>)</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_time_sensor.html">  578</a></span>&#160;<span class="keyword">class </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_time_sensor.html">TimeSensor</a>(<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html">BaseSensorOperator</a>):</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="stringliteral">    Waits until the specified time of the day.</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="stringliteral">    :param target_time: time after which the job succeeds</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="stringliteral">    :type target_time: datetime.time</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div><div class="line"><a name="l00585"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_time_sensor.html#a73e6a61204c54abbdf3d69f669c62c74">  585</a></span>&#160;    template_fields = tuple()</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    @apply_defaults</div><div class="line"><a name="l00588"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_time_sensor.html#a279ad67ff014fc7d25db938d52ad55f6">  588</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_time_sensor.html#a279ad67ff014fc7d25db938d52ad55f6">__init__</a>(self, target_time, *args, **kwargs):</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        super(TimeSensor, self).<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_time_sensor.html#a279ad67ff014fc7d25db938d52ad55f6">__init__</a>(*args, **kwargs)</div><div class="line"><a name="l00590"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_time_sensor.html#a4d20973d0adb6dd58bea9b7c8a1e369f">  590</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_time_sensor.html#a4d20973d0adb6dd58bea9b7c8a1e369f">target_time</a> = target_time</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_time_sensor.html#aa83f57b91bedfad32a80ec430ca8b0e9">  592</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_time_sensor.html#aa83f57b91bedfad32a80ec430ca8b0e9">poke</a>(self, context):</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        logging.info(</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <span class="stringliteral">&#39;Checking if the time ({0}) has come&#39;</span>.format(self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_time_sensor.html#a4d20973d0adb6dd58bea9b7c8a1e369f">target_time</a>))</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <span class="keywordflow">return</span> datetime.now().time() &gt; self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_time_sensor.html#a4d20973d0adb6dd58bea9b7c8a1e369f">target_time</a></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor.html">  598</a></span>&#160;<span class="keyword">class </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor.html">TimeDeltaSensor</a>(<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html">BaseSensorOperator</a>):</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="stringliteral">    Waits for a timedelta after the task&#39;s execution_date + schedule_interval.</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="stringliteral">    In Airflow, the daily task stamped with ``execution_date``</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="stringliteral">    2016-01-01 can only start running on 2016-01-02. The timedelta here</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="stringliteral">    represents the time after the execution period has closed.</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="stringliteral">    :param delta: time length to wait after execution_date before succeeding</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="stringliteral">    :type delta: datetime.timedelta</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div><div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor.html#a744ee03daa076f1a2cbd68ba48fc6ccc">  608</a></span>&#160;    template_fields = tuple()</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    @apply_defaults</div><div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor.html#aaf82a78f6f02a58d05063ee944cf21b4">  611</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor.html#aaf82a78f6f02a58d05063ee944cf21b4">__init__</a>(self, delta, *args, **kwargs):</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        super(TimeDeltaSensor, self).<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor.html#aaf82a78f6f02a58d05063ee944cf21b4">__init__</a>(*args, **kwargs)</div><div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor.html#a50272226eec41ec3cdb2fa83730cb080">  613</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor.html#a50272226eec41ec3cdb2fa83730cb080">delta</a> = delta</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor.html#a894b578e8af6007530e7b581dd7ffa0e">  615</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor.html#a894b578e8af6007530e7b581dd7ffa0e">poke</a>(self, context):</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        dag = context[<span class="stringliteral">&#39;dag&#39;</span>]</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        target_dttm = dag.following_schedule(context[<span class="stringliteral">&#39;execution_date&#39;</span>])</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        target_dttm += self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor.html#a50272226eec41ec3cdb2fa83730cb080">delta</a></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        logging.info(<span class="stringliteral">&#39;Checking if the time ({0}) has come&#39;</span>.format(target_dttm))</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="keywordflow">return</span> datetime.now() &gt; target_dttm</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html">  623</a></span>&#160;<span class="keyword">class </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html">HttpSensor</a>(<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html">BaseSensorOperator</a>):</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="stringliteral">    Executes a HTTP get statement and returns False on failure:</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="stringliteral">        404 not found or response_check function returned False</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="stringliteral">    :param http_conn_id: The connection to run the sensor against</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="stringliteral">    :type http_conn_id: string</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="stringliteral">    :param endpoint: The relative part of the full url</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="stringliteral">    :type endpoint: string</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="stringliteral">    :param params: The parameters to be added to the GET url</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="stringliteral">    :type params: a dictionary of string key/value pairs</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="stringliteral">    :param headers: The HTTP headers to be added to the GET request</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="stringliteral">    :type headers: a dictionary of string key/value pairs</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="stringliteral">    :param response_check: A check against the &#39;requests&#39; response object.</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="stringliteral">        Returns True for &#39;pass&#39; and False otherwise.</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="stringliteral">    :type response_check: A lambda or defined function.</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="stringliteral">    :param extra_options: Extra options for the &#39;requests&#39; library, see the</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="stringliteral">        &#39;requests&#39; documentation (options to modify timeout, ssl, etc.)</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="stringliteral">    :type extra_options: A dictionary of options, where key is string and value</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="stringliteral">        depends on the option that&#39;s being modified.</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a3cff0ed807c14ba026a3445d51594ad8">  645</a></span>&#160;    template_fields = (<span class="stringliteral">&#39;endpoint&#39;</span>, <span class="stringliteral">&#39;params&#39;</span>)</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    @apply_defaults</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a4af5d7c6b45354a9e580581c4425f30b">__init__</a>(self,</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                 endpoint,</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                 http_conn_id=&#39;http_default&#39;,</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                 params=None,</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                 headers=None,</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                 response_check=None,</div><div class="line"><a name="l00654"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a4af5d7c6b45354a9e580581c4425f30b">  654</a></span>&#160;                 extra_options=None, *args, **kwargs):</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        super(HttpSensor, self).<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a4af5d7c6b45354a9e580581c4425f30b">__init__</a>(*args, **kwargs)</div><div class="line"><a name="l00656"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a89805e48f850679d2f9d006570d88627">  656</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a89805e48f850679d2f9d006570d88627">endpoint</a> = endpoint</div><div class="line"><a name="l00657"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a270c99f65241b5cb1f2151e9eeb55722">  657</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a270c99f65241b5cb1f2151e9eeb55722">http_conn_id</a> = http_conn_id</div><div class="line"><a name="l00658"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a5abad8ecea3255f8fe2a24bcfde780fb">  658</a></span>&#160;        self.<a class="code" href="classairflow_1_1models_1_1_base_operator.html#ae5809c6690e090d21001224e91470276">params</a> = params <span class="keywordflow">or</span> {}</div><div class="line"><a name="l00659"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#aec04107d4223148078deefc8d99bdc57">  659</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#aec04107d4223148078deefc8d99bdc57">headers</a> = headers <span class="keywordflow">or</span> {}</div><div class="line"><a name="l00660"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#ace77f9628df618fe5ec0bcc246120b52">  660</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#ace77f9628df618fe5ec0bcc246120b52">extra_options</a> = extra_options <span class="keywordflow">or</span> {}</div><div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a89e06ed8fb194fa72707f326f3c2c62c">  661</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a89e06ed8fb194fa72707f326f3c2c62c">response_check</a> = response_check</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#af793c9371683fdf245c1188f93f31901">  663</a></span>&#160;        self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#af793c9371683fdf245c1188f93f31901">hook</a> = <a class="code" href="classairflow_1_1hooks_1_1http__hook_1_1_http_hook.html">hooks.http_hook.HttpHook</a>(method=<span class="stringliteral">&#39;GET&#39;</span>, http_conn_id=http_conn_id)</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno"><a class="line" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#ac6f77a11660f7b0d307704c835d38b81">  665</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#ac6f77a11660f7b0d307704c835d38b81">poke</a>(self, context):</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        logging.info(<span class="stringliteral">&#39;Poking: &#39;</span> + self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a89805e48f850679d2f9d006570d88627">endpoint</a>)</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="keywordflow">try</span>:</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            response = self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#af793c9371683fdf245c1188f93f31901">hook</a>.<a class="code" href="classairflow_1_1models_1_1_base_operator.html#ad91f8b6b05bad96620089008ec2882c4">run</a>(self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a89805e48f850679d2f9d006570d88627">endpoint</a>,</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                                     data=self.<a class="code" href="classairflow_1_1models_1_1_base_operator.html#ae5809c6690e090d21001224e91470276">params</a>,</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                                     headers=self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#aec04107d4223148078deefc8d99bdc57">headers</a>,</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                                     extra_options=self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#ace77f9628df618fe5ec0bcc246120b52">extra_options</a>)</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a89e06ed8fb194fa72707f326f3c2c62c">response_check</a>:</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                <span class="comment"># run content check on response</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                <span class="keywordflow">return</span> self.<a class="code" href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a89e06ed8fb194fa72707f326f3c2c62c">response_check</a>(response)</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">except</span> AirflowException <span class="keyword">as</span> ae:</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <span class="keywordflow">if</span> str(ae).startswith(<span class="stringliteral">&quot;404&quot;</span>):</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            <span class="keywordflow">raise</span> ae</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">True</span></div><div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor_html_a894b578e8af6007530e7b581dd7ffa0e"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor.html#a894b578e8af6007530e7b581dd7ffa0e">airflow.operators.sensors.TimeDeltaSensor.poke</a></div><div class="ttdeci">def poke(self, context)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00615">sensors.py:615</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor_html_a980e6b0f33790758d6974c05d0badd62"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a980e6b0f33790758d6974c05d0badd62">airflow.operators.sensors.HivePartitionSensor.partition</a></div><div class="ttdeci">partition</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00362">sensors.py:362</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_sql_sensor_html_a1b2d01f8c19aff27fc2afd87ddf1cf25"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#a1b2d01f8c19aff27fc2afd87ddf1cf25">airflow.operators.sensors.SqlSensor.conn_id</a></div><div class="ttdeci">conn_id</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00103">sensors.py:103</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor_html_a9b51c0ed8d25895867d564c23e4925b0"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a9b51c0ed8d25895867d564c23e4925b0">airflow.operators.sensors.HdfsSensor.filter_for_ignored_ext</a></div><div class="ttdeci">def filter_for_ignored_ext(result, ignored_ext, ignore_copying)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00419">sensors.py:419</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor_html_a8631cd3b1aad4f42e1970cab00f9fecc"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a8631cd3b1aad4f42e1970cab00f9fecc">airflow.operators.sensors.MetastorePartitionSensor.partition_name</a></div><div class="ttdeci">partition_name</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00150">sensors.py:150</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor_html_a0e2b15085b09e65f3c3c8a5d57391b89"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a0e2b15085b09e65f3c3c8a5d57391b89">airflow.operators.sensors.MetastorePartitionSensor.__init__</a></div><div class="ttdeci">def __init__(self, table, partition_name, schema=&quot;default&quot;, mysql_conn_id=&quot;metastore_mysql&quot;, args, kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00148">sensors.py:148</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor_html_a7139759677c29dd1f8918dd6e564e028"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a7139759677c29dd1f8918dd6e564e028">airflow.operators.sensors.HdfsSensor.ignore_copying</a></div><div class="ttdeci">ignore_copying</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00400">sensors.py:400</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor_html_a56f813402d9c9c8fea05a56783ff24fd"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a56f813402d9c9c8fea05a56783ff24fd">airflow.operators.sensors.NamedHivePartitionSensor.partition_names</a></div><div class="ttdeci">partition_names</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00288">sensors.py:288</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor_html_ab19946231e904900154d8c6e2cf1229b"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ab19946231e904900154d8c6e2cf1229b">airflow.operators.sensors.ExternalTaskSensor.external_task_id</a></div><div class="ttdeci">external_task_id</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00224">sensors.py:224</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_sql_sensor_html_abdb5aea204c316fd13d0e94552bf39e5"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#abdb5aea204c316fd13d0e94552bf39e5">airflow.operators.sensors.SqlSensor.poke</a></div><div class="ttdeci">def poke(self, context)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00106">sensors.py:106</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor_html"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html">airflow.operators.sensors.MetastorePartitionSensor</a></div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00121">sensors.py:121</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor_html_a045e441259a4665d1c051ca588c8fcfd"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a045e441259a4665d1c051ca588c8fcfd">airflow.operators.sensors.HivePartitionSensor.__init__</a></div><div class="ttdeci">def __init__(self, table, partition=&quot;ds='{{ ds }}'&quot;, metastore_conn_id='metastore_default', schema='default', poke_interval=60 *3, args, kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00355">sensors.py:355</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor_html_a874fedd032631f47c959ea886946fd25"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a874fedd032631f47c959ea886946fd25">airflow.operators.sensors.NamedHivePartitionSensor.__init__</a></div><div class="ttdeci">def __init__(self, partition_names, metastore_conn_id='metastore_default', poke_interval=60 *3, args, kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00280">sensors.py:280</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor_html_a534842b9af29dcf02acc94ef5f3eaf95"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a534842b9af29dcf02acc94ef5f3eaf95">airflow.operators.sensors.HdfsSensor.__init__</a></div><div class="ttdeci">def __init__(self, filepath, hdfs_conn_id='hdfs_default', ignored_ext=['_COPYING_'], ignore_copying=True, file_size=None, hook=HDFSHook, args, kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00394">sensors.py:394</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor_html_ac1eaab7e54590664106f71b31a4ed9c4"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ac1eaab7e54590664106f71b31a4ed9c4">airflow.operators.sensors.ExternalTaskSensor.allowed_states</a></div><div class="ttdeci">allowed_states</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00215">sensors.py:215</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor_html_a173bbb257584ceafcf4e72cfef605920"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a173bbb257584ceafcf4e72cfef605920">airflow.operators.sensors.HdfsSensor.filter_for_filesize</a></div><div class="ttdeci">def filter_for_filesize(result, size=None)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00404">sensors.py:404</a></div></div>
<div class="ttc" id="classairflow_1_1hooks_1_1_s3__hook_1_1_s3_hook_html"><div class="ttname"><a href="classairflow_1_1hooks_1_1_s3__hook_1_1_s3_hook.html">airflow.hooks.S3_hook.S3Hook</a></div><div class="ttdef"><b>Definition:</b> <a href="_s3__hook_8py_source.html#l00092">S3_hook.py:92</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_http_sensor_html"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html">airflow.operators.sensors.HttpSensor</a></div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00623">sensors.py:623</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_time_sensor_html_a279ad67ff014fc7d25db938d52ad55f6"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_time_sensor.html#a279ad67ff014fc7d25db938d52ad55f6">airflow.operators.sensors.TimeSensor.__init__</a></div><div class="ttdeci">def __init__(self, target_time, args, kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00588">sensors.py:588</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor_html_aa221ab3a4fb07b1ea1a9681ceb9d0d50"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#aa221ab3a4fb07b1ea1a9681ceb9d0d50">airflow.operators.sensors.MetastorePartitionSensor.first_poke</a></div><div class="ttdeci">first_poke</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00153">sensors.py:153</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor_html"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html">airflow.operators.sensors.S3KeySensor</a></div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00479">sensors.py:479</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor_html_a29736820f88210102befc6e59ce0c66b"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#a29736820f88210102befc6e59ce0c66b">airflow.operators.sensors.S3KeySensor.__init__</a></div><div class="ttdeci">def __init__(self, bucket_key, bucket_name=None, wildcard_match=False, s3_conn_id='s3_default', args, kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00504">sensors.py:504</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor_html_aa0430e773b821d457dd6879a8b53a885"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html#aa0430e773b821d457dd6879a8b53a885">airflow.operators.sensors.WebHdfsSensor.filepath</a></div><div class="ttdeci">filepath</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00469">sensors.py:469</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor_html"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html">airflow.operators.sensors.WebHdfsSensor</a></div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00456">sensors.py:456</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor_html_aa5d8dc88379f4821ddafa39652e3b7fe"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#aa5d8dc88379f4821ddafa39652e3b7fe">airflow.operators.sensors.HivePartitionSensor.metastore_conn_id</a></div><div class="ttdeci">metastore_conn_id</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00360">sensors.py:360</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor_html_a59e03ff8f1f13a0a118658f86bb399bc"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a59e03ff8f1f13a0a118658f86bb399bc">airflow.operators.sensors.S3PrefixSensor.s3_conn_id</a></div><div class="ttdeci">s3_conn_id</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00565">sensors.py:565</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor_html_ac2b4454c5bd70df40128905c22f5d5ef"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#ac2b4454c5bd70df40128905c22f5d5ef">airflow.operators.sensors.S3KeySensor.bucket_key</a></div><div class="ttdeci">bucket_key</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00518">sensors.py:518</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_http_sensor_html_ac6f77a11660f7b0d307704c835d38b81"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#ac6f77a11660f7b0d307704c835d38b81">airflow.operators.sensors.HttpSensor.poke</a></div><div class="ttdeci">def poke(self, context)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00665">sensors.py:665</a></div></div>
<div class="ttc" id="classairflow_1_1models_1_1_base_operator_html"><div class="ttname"><a href="classairflow_1_1models_1_1_base_operator.html">airflow.models.BaseOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="airflow_2models_8py_source.html#l01763">models.py:1763</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor_html_ad81465ec4f32461fa0bfaace9d5f21a3"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#ad81465ec4f32461fa0bfaace9d5f21a3">airflow.operators.sensors.NamedHivePartitionSensor.hook</a></div><div class="ttdeci">hook</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00303">sensors.py:303</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator_html"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html">airflow.operators.sensors.BaseSensorOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00038">sensors.py:38</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor_html_ae2178df1491dfa560d56e4d8303c113d"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#ae2178df1491dfa560d56e4d8303c113d">airflow.operators.sensors.S3KeySensor.s3_conn_id</a></div><div class="ttdeci">s3_conn_id</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00520">sensors.py:520</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor_html_afbbc382257e2be0c6929bc4b40f08350"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#afbbc382257e2be0c6929bc4b40f08350">airflow.operators.sensors.S3PrefixSensor.poke</a></div><div class="ttdeci">def poke(self, context)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00567">sensors.py:567</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_http_sensor_html_a89805e48f850679d2f9d006570d88627"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a89805e48f850679d2f9d006570d88627">airflow.operators.sensors.HttpSensor.endpoint</a></div><div class="ttdeci">endpoint</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00656">sensors.py:656</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor_html"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor.html">airflow.operators.sensors.TimeDeltaSensor</a></div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00598">sensors.py:598</a></div></div>
<div class="ttc" id="namespaceexample__qubole__operator_html_a3e837ac5199f7d098e4ab1d01761db99"><div class="ttname"><a href="namespaceexample__qubole__operator.html#a3e837ac5199f7d098e4ab1d01761db99">example_qubole_operator.join</a></div><div class="ttdeci">join</div><div class="ttdef"><b>Definition:</b> <a href="example__qubole__operator_8py_source.html#l00082">example_qubole_operator.py:82</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor_html_a9c77ade040e3a3c847729e9a5e16585d"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a9c77ade040e3a3c847729e9a5e16585d">airflow.operators.sensors.NamedHivePartitionSensor.poke</a></div><div class="ttdeci">def poke(self, context)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00300">sensors.py:300</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor_html"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html">airflow.operators.sensors.ExternalTaskSensor</a></div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00180">sensors.py:180</a></div></div>
<div class="ttc" id="namespaceairflow_1_1hooks_1_1_s3__hook_html"><div class="ttname"><a href="namespaceairflow_1_1hooks_1_1_s3__hook.html">airflow.hooks.S3_hook</a></div><div class="ttdef"><b>Definition:</b> <a href="_s3__hook_8py_source.html#l00001">S3_hook.py:1</a></div></div>
<div class="ttc" id="classairflow_1_1hooks_1_1hive__hooks_1_1_hive_metastore_hook_html"><div class="ttname"><a href="classairflow_1_1hooks_1_1hive__hooks_1_1_hive_metastore_hook.html">airflow.hooks.hive_hooks.HiveMetastoreHook</a></div><div class="ttdef"><b>Definition:</b> <a href="hive__hooks_8py_source.html#l00411">hive_hooks.py:411</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_time_sensor_html_aa83f57b91bedfad32a80ec430ca8b0e9"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_time_sensor.html#aa83f57b91bedfad32a80ec430ca8b0e9">airflow.operators.sensors.TimeSensor.poke</a></div><div class="ttdeci">def poke(self, context)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00592">sensors.py:592</a></div></div>
<div class="ttc" id="classairflow_1_1models_1_1_base_operator_html_ad91f8b6b05bad96620089008ec2882c4"><div class="ttname"><a href="classairflow_1_1models_1_1_base_operator.html#ad91f8b6b05bad96620089008ec2882c4">airflow.models.BaseOperator.run</a></div><div class="ttdeci">def run(self, start_date=None, end_date=None, ignore_first_depends_on_past=False, ignore_ti_state=False, mark_success=False)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2models_8py_source.html#l02387">models.py:2387</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor_html_afc100ed877221d96abcc155f4463840d"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#afc100ed877221d96abcc155f4463840d">airflow.operators.sensors.HivePartitionSensor.hook</a></div><div class="ttdeci">hook</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00372">sensors.py:372</a></div></div>
<div class="ttc" id="classairflow_1_1exceptions_1_1_airflow_exception_html"><div class="ttname"><a href="classairflow_1_1exceptions_1_1_airflow_exception.html">airflow.exceptions.AirflowException</a></div><div class="ttdef"><b>Definition:</b> <a href="exceptions_8py_source.html#l00019">exceptions.py:19</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor_html_a50272226eec41ec3cdb2fa83730cb080"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor.html#a50272226eec41ec3cdb2fa83730cb080">airflow.operators.sensors.TimeDeltaSensor.delta</a></div><div class="ttdeci">delta</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00613">sensors.py:613</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor_html_a0c324a98ebc002ac34c2376304b76d6d"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a0c324a98ebc002ac34c2376304b76d6d">airflow.operators.sensors.HivePartitionSensor.poke</a></div><div class="ttdeci">def poke(self, context)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00365">sensors.py:365</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_http_sensor_html_a4af5d7c6b45354a9e580581c4425f30b"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a4af5d7c6b45354a9e580581c4425f30b">airflow.operators.sensors.HttpSensor.__init__</a></div><div class="ttdeci">def __init__(self, endpoint, http_conn_id='http_default', params=None, headers=None, response_check=None, extra_options=None, args, kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00654">sensors.py:654</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator_html_aad84fc6c40f04f5f78dc10253046b2bd"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#aad84fc6c40f04f5f78dc10253046b2bd">airflow.operators.sensors.BaseSensorOperator.poke_interval</a></div><div class="ttdeci">poke_interval</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00063">sensors.py:63</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor_html_a853257992f134a0809114a71a106cf34"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a853257992f134a0809114a71a106cf34">airflow.operators.sensors.MetastorePartitionSensor.table</a></div><div class="ttdeci">table</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00151">sensors.py:151</a></div></div>
<div class="ttc" id="classairflow_1_1exceptions_1_1_airflow_sensor_timeout_html"><div class="ttname"><a href="classairflow_1_1exceptions_1_1_airflow_sensor_timeout.html">airflow.exceptions.AirflowSensorTimeout</a></div><div class="ttdef"><b>Definition:</b> <a href="exceptions_8py_source.html#l00027">exceptions.py:27</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor_html_af4171a48c00bf1ddbb35613513f1e491"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#af4171a48c00bf1ddbb35613513f1e491">airflow.operators.sensors.HdfsSensor.filepath</a></div><div class="ttdeci">filepath</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00396">sensors.py:396</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor_html_a7d259d84599c410c9ca88fac70341dec"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a7d259d84599c410c9ca88fac70341dec">airflow.operators.sensors.NamedHivePartitionSensor.metastore_conn_id</a></div><div class="ttdeci">metastore_conn_id</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00287">sensors.py:287</a></div></div>
<div class="ttc" id="classairflow_1_1exceptions_1_1_airflow_skip_exception_html"><div class="ttname"><a href="classairflow_1_1exceptions_1_1_airflow_skip_exception.html">airflow.exceptions.AirflowSkipException</a></div><div class="ttdef"><b>Definition:</b> <a href="exceptions_8py_source.html#l00035">exceptions.py:35</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator_html_a165165d191009f1eef8713593978d542"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#a165165d191009f1eef8713593978d542">airflow.operators.sensors.BaseSensorOperator.execute</a></div><div class="ttdeci">def execute(self, context)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00074">sensors.py:74</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator_html_a8fc53ee942481c2c3fc0b3346b95644a"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#a8fc53ee942481c2c3fc0b3346b95644a">airflow.operators.sensors.BaseSensorOperator.soft_fail</a></div><div class="ttdeci">soft_fail</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00064">sensors.py:64</a></div></div>
<div class="ttc" id="namespaceairflow_1_1models_html"><div class="ttname"><a href="namespaceairflow_1_1models.html">airflow.models</a></div><div class="ttdef"><b>Definition:</b> <a href="airflow_2models_8py_source.html#l00001">models.py:1</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor_html_a5ed7bd0a706f66923f6613a5578fb1d0"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html#a5ed7bd0a706f66923f6613a5578fb1d0">airflow.operators.sensors.WebHdfsSensor.__init__</a></div><div class="ttdeci">def __init__(self, filepath, webhdfs_conn_id='webhdfs_default', args, kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00467">sensors.py:467</a></div></div>
<div class="ttc" id="classairflow_1_1models_1_1_base_operator_html_ae5809c6690e090d21001224e91470276"><div class="ttname"><a href="classairflow_1_1models_1_1_base_operator.html#ae5809c6690e090d21001224e91470276">airflow.models.BaseOperator.params</a></div><div class="ttdeci">params</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2models_8py_source.html#l01987">models.py:1987</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor_html_ab41e5d4c462bcadfee2358d2d739c516"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ab41e5d4c462bcadfee2358d2d739c516">airflow.operators.sensors.ExternalTaskSensor.__init__</a></div><div class="ttdeci">def __init__(self, external_dag_id, external_task_id, allowed_states=None, execution_delta=None, execution_date_fn=None, args, kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00213">sensors.py:213</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_sql_sensor_html"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html">airflow.operators.sensors.SqlSensor</a></div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00086">sensors.py:86</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor_html_aa8cf7d72348ee9e8ed5f961629ac74cd"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#aa8cf7d72348ee9e8ed5f961629ac74cd">airflow.operators.sensors.HdfsSensor.poke</a></div><div class="ttdeci">def poke(self, context)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00436">sensors.py:436</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor_html"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html">airflow.operators.sensors.HdfsSensor</a></div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00378">sensors.py:378</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor_html_a3f2c2d3a7a5a1d8ba74015d1ba023abf"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#a3f2c2d3a7a5a1d8ba74015d1ba023abf">airflow.operators.sensors.ExternalTaskSensor.external_dag_id</a></div><div class="ttdeci">external_dag_id</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00223">sensors.py:223</a></div></div>
<div class="ttc" id="namespaceairflow_1_1utils_1_1decorators_html"><div class="ttname"><a href="namespaceairflow_1_1utils_1_1decorators.html">airflow.utils.decorators</a></div><div class="ttdef"><b>Definition:</b> <a href="decorators_8py_source.html#l00001">decorators.py:1</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor_html"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html">airflow.operators.sensors.NamedHivePartitionSensor</a></div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00253">sensors.py:253</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor_html_a4150345e7494eae347c3dd1cc6f8e5be"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a4150345e7494eae347c3dd1cc6f8e5be">airflow.operators.sensors.S3PrefixSensor.full_url</a></div><div class="ttdeci">full_url</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00564">sensors.py:564</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_http_sensor_html_af793c9371683fdf245c1188f93f31901"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#af793c9371683fdf245c1188f93f31901">airflow.operators.sensors.HttpSensor.hook</a></div><div class="ttdeci">hook</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00663">sensors.py:663</a></div></div>
<div class="ttc" id="namespaceairflow_1_1hooks_1_1base__hook_html"><div class="ttname"><a href="namespaceairflow_1_1hooks_1_1base__hook.html">airflow.hooks.base_hook</a></div><div class="ttdef"><b>Definition:</b> <a href="base__hook_8py_source.html#l00001">base_hook.py:1</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor_html_ac5f2b7522feb55b7d028a26eed8fbde8"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ac5f2b7522feb55b7d028a26eed8fbde8">airflow.operators.sensors.ExternalTaskSensor.execution_date_fn</a></div><div class="ttdeci">execution_date_fn</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00222">sensors.py:222</a></div></div>
<div class="ttc" id="namespaceairflow_1_1exceptions_html"><div class="ttname"><a href="namespaceairflow_1_1exceptions.html">airflow.exceptions</a></div><div class="ttdef"><b>Definition:</b> <a href="exceptions_8py_source.html#l00001">exceptions.py:1</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_http_sensor_html_aec04107d4223148078deefc8d99bdc57"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#aec04107d4223148078deefc8d99bdc57">airflow.operators.sensors.HttpSensor.headers</a></div><div class="ttdeci">headers</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00659">sensors.py:659</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_http_sensor_html_ace77f9628df618fe5ec0bcc246120b52"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#ace77f9628df618fe5ec0bcc246120b52">airflow.operators.sensors.HttpSensor.extra_options</a></div><div class="ttdeci">extra_options</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00660">sensors.py:660</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor_html_a7770ad8899c5edcdc0f3590cb6604da6"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a7770ad8899c5edcdc0f3590cb6604da6">airflow.operators.sensors.HdfsSensor.hdfs_conn_id</a></div><div class="ttdeci">hdfs_conn_id</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00397">sensors.py:397</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor_html_a492d58857bb880570cf8f578b145ce49"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a492d58857bb880570cf8f578b145ce49">airflow.operators.sensors.S3PrefixSensor.delimiter</a></div><div class="ttdeci">delimiter</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00563">sensors.py:563</a></div></div>
<div class="ttc" id="classairflow_1_1hooks_1_1http__hook_1_1_http_hook_html"><div class="ttname"><a href="classairflow_1_1hooks_1_1http__hook_1_1_http_hook.html">airflow.hooks.http_hook.HttpHook</a></div><div class="ttdef"><b>Definition:</b> <a href="http__hook_8py_source.html#l00024">http_hook.py:24</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_http_sensor_html_a270c99f65241b5cb1f2151e9eeb55722"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a270c99f65241b5cb1f2151e9eeb55722">airflow.operators.sensors.HttpSensor.http_conn_id</a></div><div class="ttdeci">http_conn_id</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00657">sensors.py:657</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor_html_ac921fe8b9b0a144a353a82307a901423"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#ac921fe8b9b0a144a353a82307a901423">airflow.operators.sensors.NamedHivePartitionSensor.next_poke_idx</a></div><div class="ttdeci">next_poke_idx</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00289">sensors.py:289</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_http_sensor_html_a89e06ed8fb194fa72707f326f3c2c62c"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_http_sensor.html#a89e06ed8fb194fa72707f326f3c2c62c">airflow.operators.sensors.HttpSensor.response_check</a></div><div class="ttdeci">response_check</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00661">sensors.py:661</a></div></div>
<div class="ttc" id="namespaceairflow_1_1hooks_1_1hdfs__hook_html"><div class="ttname"><a href="namespaceairflow_1_1hooks_1_1hdfs__hook.html">airflow.hooks.hdfs_hook</a></div><div class="ttdef"><b>Definition:</b> <a href="hdfs__hook_8py_source.html#l00001">hdfs_hook.py:1</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor_html_a53f743ddfe23d3bdbc5b56bd917c8294"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_named_hive_partition_sensor.html#a53f743ddfe23d3bdbc5b56bd917c8294">airflow.operators.sensors.NamedHivePartitionSensor.parse_partition_name</a></div><div class="ttdeci">def parse_partition_name(self, partition)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00292">sensors.py:292</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor_html_a7e119b580c6a9541670e90d379ea2470"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html#a7e119b580c6a9541670e90d379ea2470">airflow.operators.sensors.WebHdfsSensor.poke</a></div><div class="ttdeci">def poke(self, context)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00472">sensors.py:472</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor_html_a3d05b08de164587833532c2bcf7f62e8"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a3d05b08de164587833532c2bcf7f62e8">airflow.operators.sensors.HdfsSensor.ignored_ext</a></div><div class="ttdeci">ignored_ext</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00399">sensors.py:399</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor_html_a9fd4de939b7d92a975908070fb57ae9d"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#a9fd4de939b7d92a975908070fb57ae9d">airflow.operators.sensors.S3KeySensor.bucket_name</a></div><div class="ttdeci">bucket_name</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00517">sensors.py:517</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor_html_a4057b6f3d99d3d5a745fffe9b7044977"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#a4057b6f3d99d3d5a745fffe9b7044977">airflow.operators.sensors.S3KeySensor.poke</a></div><div class="ttdeci">def poke(self, context)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00522">sensors.py:522</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator_html_aad25b1eac6cd02b8da2c27ad7a623855"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#aad25b1eac6cd02b8da2c27ad7a623855">airflow.operators.sensors.BaseSensorOperator.__init__</a></div><div class="ttdeci">def __init__(self, poke_interval=60, timeout=60 *60 *24 *7, soft_fail=False, args, kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00061">sensors.py:61</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor_html_a6c972b8d2a9637ddcce7cfaa3eba2ce8"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a6c972b8d2a9637ddcce7cfaa3eba2ce8">airflow.operators.sensors.MetastorePartitionSensor.schema</a></div><div class="ttdeci">schema</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00152">sensors.py:152</a></div></div>
<div class="ttc" id="classairflow_1_1hooks_1_1webhdfs__hook_1_1_web_h_d_f_s_hook_html"><div class="ttname"><a href="classairflow_1_1hooks_1_1webhdfs__hook_1_1_web_h_d_f_s_hook.html">airflow.hooks.webhdfs_hook.WebHDFSHook</a></div><div class="ttdef"><b>Definition:</b> <a href="webhdfs__hook_8py_source.html#l00035">webhdfs_hook.py:35</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator_html_a96f27ebc6210a655e4343bd6565a464d"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#a96f27ebc6210a655e4343bd6565a464d">airflow.operators.sensors.BaseSensorOperator.poke</a></div><div class="ttdeci">def poke(self, context)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00067">sensors.py:67</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_time_sensor_html_a4d20973d0adb6dd58bea9b7c8a1e369f"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_time_sensor.html#a4d20973d0adb6dd58bea9b7c8a1e369f">airflow.operators.sensors.TimeSensor.target_time</a></div><div class="ttdeci">target_time</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00590">sensors.py:590</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor_html_a2c7c8902aad871a49c8b96f55ce297b4"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#a2c7c8902aad871a49c8b96f55ce297b4">airflow.operators.sensors.HivePartitionSensor.table</a></div><div class="ttdeci">table</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00361">sensors.py:361</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_time_sensor_html"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_time_sensor.html">airflow.operators.sensors.TimeSensor</a></div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00578">sensors.py:578</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor_html"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html">airflow.operators.sensors.HivePartitionSensor</a></div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00325">sensors.py:325</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_sql_sensor_html_aa7e5191fdfb1e60cc7b48f7e6053d925"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#aa7e5191fdfb1e60cc7b48f7e6053d925">airflow.operators.sensors.SqlSensor.sql</a></div><div class="ttdeci">sql</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00102">sensors.py:102</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor_html_af305dcbdb0abb8132982d1bc3dff8c3c"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hive_partition_sensor.html#af305dcbdb0abb8132982d1bc3dff8c3c">airflow.operators.sensors.HivePartitionSensor.schema</a></div><div class="ttdeci">schema</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00363">sensors.py:363</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor_html_a7e13b160a28efe7f5913846c749dbb10"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a7e13b160a28efe7f5913846c749dbb10">airflow.operators.sensors.S3PrefixSensor.bucket_name</a></div><div class="ttdeci">bucket_name</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00561">sensors.py:561</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor_html_a840297c8a482feb1a963f68f71adb75e"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a840297c8a482feb1a963f68f71adb75e">airflow.operators.sensors.HdfsSensor.hook</a></div><div class="ttdeci">hook</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00401">sensors.py:401</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor_html_af7d14e0b0fffc9d40a26c6ba6e740012"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_web_hdfs_sensor.html#af7d14e0b0fffc9d40a26c6ba6e740012">airflow.operators.sensors.WebHdfsSensor.webhdfs_conn_id</a></div><div class="ttdeci">webhdfs_conn_id</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00470">sensors.py:470</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor_html_a719fb3b5233f62c01c80827b33b40aef"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#a719fb3b5233f62c01c80827b33b40aef">airflow.operators.sensors.ExternalTaskSensor.poke</a></div><div class="ttdeci">def poke(self, context)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00226">sensors.py:226</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor_html_ab8eeed41d7347f5c0ba3ebd01103bb8a"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_external_task_sensor.html#ab8eeed41d7347f5c0ba3ebd01103bb8a">airflow.operators.sensors.ExternalTaskSensor.execution_delta</a></div><div class="ttdeci">execution_delta</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00221">sensors.py:221</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor_html"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html">airflow.operators.sensors.S3PrefixSensor</a></div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00534">sensors.py:534</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor_html_aaf82a78f6f02a58d05063ee944cf21b4"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_time_delta_sensor.html#aaf82a78f6f02a58d05063ee944cf21b4">airflow.operators.sensors.TimeDeltaSensor.__init__</a></div><div class="ttdeci">def __init__(self, delta, args, kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00611">sensors.py:611</a></div></div>
<div class="ttc" id="namespaceairflow_1_1utils_1_1state_html"><div class="ttname"><a href="namespaceairflow_1_1utils_1_1state.html">airflow.utils.state</a></div><div class="ttdef"><b>Definition:</b> <a href="state_8py_source.html#l00001">state.py:1</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor_html_a78383bf540f518292005bf3d0f9810fe"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_metastore_partition_sensor.html#a78383bf540f518292005bf3d0f9810fe">airflow.operators.sensors.MetastorePartitionSensor.poke</a></div><div class="ttdeci">def poke(self, context)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00162">sensors.py:162</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_sql_sensor_html_a872545fc12738c508fe8294b5170eed1"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_sql_sensor.html#a872545fc12738c508fe8294b5170eed1">airflow.operators.sensors.SqlSensor.__init__</a></div><div class="ttdeci">def __init__(self, conn_id, sql, args, kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00101">sensors.py:101</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator_html_ab1f846e30486abdb870c904d37ff3f7c"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_base_sensor_operator.html#ab1f846e30486abdb870c904d37ff3f7c">airflow.operators.sensors.BaseSensorOperator.timeout</a></div><div class="ttdeci">timeout</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00065">sensors.py:65</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor_html_aa53271359e4d88ab67017a18ad3c572a"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_s3_key_sensor.html#aa53271359e4d88ab67017a18ad3c572a">airflow.operators.sensors.S3KeySensor.wildcard_match</a></div><div class="ttdeci">wildcard_match</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00519">sensors.py:519</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor_html_ad59df5955838dedba8ba7db922c2c0e7"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#ad59df5955838dedba8ba7db922c2c0e7">airflow.operators.sensors.S3PrefixSensor.prefix</a></div><div class="ttdeci">prefix</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00562">sensors.py:562</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor_html_a4584a7dc15f39846bfcaa974fb0bbf27"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_s3_prefix_sensor.html#a4584a7dc15f39846bfcaa974fb0bbf27">airflow.operators.sensors.S3PrefixSensor.__init__</a></div><div class="ttdeci">def __init__(self, bucket_name, prefix, delimiter='/', s3_conn_id='s3_default', args, kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00558">sensors.py:558</a></div></div>
<div class="ttc" id="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor_html_a9ca7b542a42c536031481052c3cc3e7d"><div class="ttname"><a href="classairflow_1_1operators_1_1sensors_1_1_hdfs_sensor.html#a9ca7b542a42c536031481052c3cc3e7d">airflow.operators.sensors.HdfsSensor.file_size</a></div><div class="ttdeci">file_size</div><div class="ttdef"><b>Definition:</b> <a href="airflow_2operators_2sensors_8py_source.html#l00398">sensors.py:398</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
