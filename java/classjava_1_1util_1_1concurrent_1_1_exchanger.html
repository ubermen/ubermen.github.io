<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>openjdk8_analysis: java.util.concurrent.Exchanger&lt; V &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">openjdk8_analysis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacejava.html">java</a></li><li class="navelem"><a class="el" href="namespacejava_1_1util.html">util</a></li><li class="navelem"><a class="el" href="namespacejava_1_1util_1_1concurrent.html">concurrent</a></li><li class="navelem"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_exchanger.html">Exchanger</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classjava_1_1util_1_1concurrent_1_1_exchanger-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">java.util.concurrent.Exchanger&lt; V &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>Node</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>Participant</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8979da4cb60eb24cf09b1f91b6bbd20b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_exchanger.html#a8979da4cb60eb24cf09b1f91b6bbd20b">Exchanger</a> ()</td></tr>
<tr class="separator:a8979da4cb60eb24cf09b1f91b6bbd20b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66dba620017de88e20818de967ea227c"><td class="memItemLeft" align="right" valign="top">V&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_exchanger.html#a66dba620017de88e20818de967ea227c">exchange</a> (V x)  throws InterruptedException </td></tr>
<tr class="separator:a66dba620017de88e20818de967ea227c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8933abc1a15754b8bf6a0255a899ee05"><td class="memItemLeft" align="right" valign="top">V&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_exchanger.html#a8933abc1a15754b8bf6a0255a899ee05">exchange</a> (V x, long timeout, <a class="el" href="enumjava_1_1util_1_1concurrent_1_1_time_unit.html">TimeUnit</a> unit)  throws InterruptedException, TimeoutException </td></tr>
<tr class="separator:a8933abc1a15754b8bf6a0255a899ee05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A synchronization point at which threads can pair and swap elements within pairs. Each thread presents some object on entry to the <a class="el" href="classjava_1_1util_1_1concurrent_1_1_exchanger.html#a66dba620017de88e20818de967ea227c">exchange</a> method, matches with a partner thread, and receives its partner's object on return. An <a class="el" href="classjava_1_1util_1_1concurrent_1_1_exchanger.html">Exchanger</a> may be viewed as a bidirectional form of a <a class="el" href="classjava_1_1util_1_1concurrent_1_1_synchronous_queue.html">SynchronousQueue</a>. Exchangers may be useful in applications such as genetic algorithms and pipeline designs.</p>
<p><b>Sample Usage:</b> Here are the highlights of a class that uses an</p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_exchanger.html#a8979da4cb60eb24cf09b1f91b6bbd20b">Exchanger</a> </div></div><!-- fragment --><p> to swap buffers between threads so that the thread filling the buffer gets a freshly emptied one when it needs it, handing off the filled one to the thread emptying the buffer. </p><pre><div class="fragment"><div class="line"><span class="keyword">class </span>FillAndEmpty {</div><div class="line">  Exchanger&lt;DataBuffer&gt; exchanger = <span class="keyword">new</span> Exchanger&lt;DataBuffer&gt;();</div><div class="line">  DataBuffer initialEmptyBuffer = ... a made-up type</div><div class="line">  DataBuffer initialFullBuffer = ...</div><div class="line"></div><div class="line">  <span class="keyword">class </span>FillingLoop <span class="keyword">implements</span> Runnable {</div><div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> run() {</div><div class="line">      DataBuffer currentBuffer = initialEmptyBuffer;</div><div class="line">      <span class="keywordflow">try</span> {</div><div class="line">        <span class="keywordflow">while</span> (currentBuffer != null) {</div><div class="line">          addToBuffer(currentBuffer);</div><div class="line">          <span class="keywordflow">if</span> (currentBuffer.isFull())</div><div class="line">            currentBuffer = exchanger.exchange(currentBuffer);</div><div class="line">        }</div><div class="line">      } <span class="keywordflow">catch</span> (InterruptedException ex) { ... handle ... }</div><div class="line">    }</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keyword">class </span>EmptyingLoop <span class="keyword">implements</span> Runnable {</div><div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> run() {</div><div class="line">      DataBuffer currentBuffer = initialFullBuffer;</div><div class="line">      <span class="keywordflow">try</span> {</div><div class="line">        <span class="keywordflow">while</span> (currentBuffer != null) {</div><div class="line">          takeFromBuffer(currentBuffer);</div><div class="line">          <span class="keywordflow">if</span> (currentBuffer.isEmpty())</div><div class="line">            currentBuffer = exchanger.exchange(currentBuffer);</div><div class="line">        }</div><div class="line">      } <span class="keywordflow">catch</span> (InterruptedException ex) { ... handle ...}</div><div class="line">    }</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordtype">void</span> start() {</div><div class="line">    <span class="keyword">new</span> Thread(<span class="keyword">new</span> FillingLoop()).start();</div><div class="line">    <span class="keyword">new</span> Thread(<span class="keyword">new</span> EmptyingLoop()).start();</div><div class="line">  }</div><div class="line">} </div></div><!-- fragment --> </pre><p>Memory consistency effects: For each pair of threads that successfully exchange objects via an</p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_exchanger.html#a8979da4cb60eb24cf09b1f91b6bbd20b">Exchanger</a> </div></div><!-- fragment --><p> , actions prior to the</p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_exchanger.html#a66dba620017de88e20818de967ea227c">exchange</a>() </div></div><!-- fragment --><p> in each thread <a href="package-summary.html#MemoryVisibility"><em>happen-before</em></a> those subsequent to a return from the corresponding</p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_exchanger.html#a66dba620017de88e20818de967ea227c">exchange</a>() </div></div><!-- fragment --><p> in the other thread.</p>
<dl class="section since"><dt>Since</dt><dd>1.5 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Doug Lea and Bill Scherer and Michael Scott </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;V&gt;</td><td>The type of objects that may be exchanged </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_exchanger_8java_source.html#l00105">105</a> of file <a class="el" href="_exchanger_8java_source.html">Exchanger.java</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8979da4cb60eb24cf09b1f91b6bbd20b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_exchanger.html">java.util.concurrent.Exchanger</a>&lt; V &gt;.<a class="el" href="classjava_1_1util_1_1concurrent_1_1_exchanger.html">Exchanger</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new <a class="el" href="classjava_1_1util_1_1concurrent_1_1_exchanger.html">Exchanger</a>. </p>

<p>Definition at line <a class="el" href="_exchanger_8java_source.html#l00523">523</a> of file <a class="el" href="_exchanger_8java_source.html">Exchanger.java</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a66dba620017de88e20818de967ea227c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">V <a class="el" href="classjava_1_1util_1_1concurrent_1_1_exchanger.html">java.util.concurrent.Exchanger</a>&lt; V &gt;.exchange </td>
          <td>(</td>
          <td class="paramtype">V&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td> throws InterruptedException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Waits for another thread to arrive at this exchange point (unless the current thread is  Thread::interrupt interrupted}), and then transfers the given object to it, receiving its object in return.</p>
<p>If another thread is already waiting at the exchange point then it is resumed for thread scheduling purposes and receives the object passed in by the current thread. The current thread returns immediately, receiving the object passed to the exchange by that other thread.</p>
<p>If no other thread is already waiting at the exchange then the current thread is disabled for thread scheduling purposes and lies dormant until one of two things happens: </p><ul>
<li>
Some other thread enters the exchange; or </li>
<li>
Some other thread  Thread::interrupt interrupts} the current thread. </li>
</ul>
<p>If the current thread: </p><ul>
<li>
has its interrupted status set on entry to this method; or </li>
<li>
is  Thread::interrupt interrupted} while waiting for the exchange, </li>
</ul>
<p>then <a class="el" href="">InterruptedException</a> is thrown and the current thread's interrupted status is cleared.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>the object to exchange </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the object provided by the other thread </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">InterruptedException</td><td>if the current thread was interrupted while waiting </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_exchanger_8java_source.html#l00561">561</a> of file <a class="el" href="_exchanger_8java_source.html">Exchanger.java</a>.</p>

</div>
</div>
<a class="anchor" id="a8933abc1a15754b8bf6a0255a899ee05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">V <a class="el" href="classjava_1_1util_1_1concurrent_1_1_exchanger.html">java.util.concurrent.Exchanger</a>&lt; V &gt;.exchange </td>
          <td>(</td>
          <td class="paramtype">V&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enumjava_1_1util_1_1concurrent_1_1_time_unit.html">TimeUnit</a>&#160;</td>
          <td class="paramname"><em>unit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws InterruptedException, <a class="el" href="classjava_1_1util_1_1concurrent_1_1_timeout_exception.html">TimeoutException</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Waits for another thread to arrive at this exchange point (unless the current thread is  Thread::interrupt interrupted} or the specified waiting time elapses), and then transfers the given object to it, receiving its object in return.</p>
<p>If another thread is already waiting at the exchange point then it is resumed for thread scheduling purposes and receives the object passed in by the current thread. The current thread returns immediately, receiving the object passed to the exchange by that other thread.</p>
<p>If no other thread is already waiting at the exchange then the current thread is disabled for thread scheduling purposes and lies dormant until one of three things happens: </p><ul>
<li>
Some other thread enters the exchange; or </li>
<li>
Some other thread  Thread::interrupt interrupts} the current thread; or </li>
<li>
The specified waiting time elapses. </li>
</ul>
<p>If the current thread: </p><ul>
<li>
has its interrupted status set on entry to this method; or </li>
<li>
is  Thread::interrupt interrupted} while waiting for the exchange, </li>
</ul>
<p>then <a class="el" href="">InterruptedException</a> is thrown and the current thread's interrupted status is cleared.</p>
<p>If the specified waiting time elapses then <a class="el" href="classjava_1_1util_1_1concurrent_1_1_timeout_exception.html">TimeoutException</a> is thrown. If the time is less than or equal to zero, the method will not wait at all.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>the object to exchange </td></tr>
    <tr><td class="paramname">timeout</td><td>the maximum time to wait </td></tr>
    <tr><td class="paramname">unit</td><td>the time unit of the<div class="fragment"><div class="line">timeout </div></div><!-- fragment --> argument </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the object provided by the other thread </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">InterruptedException</td><td>if the current thread was interrupted while waiting </td></tr>
    <tr><td class="paramname"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_timeout_exception.html">TimeoutException</a></td><td>if the specified waiting time elapses before another thread enters the exchange </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_exchanger_8java_source.html#l00615">615</a> of file <a class="el" href="_exchanger_8java_source.html">Exchanger.java</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classjava_1_1util_1_1concurrent_1_1_exchanger_a8933abc1a15754b8bf6a0255a899ee05_cgraph.png" border="0" usemap="#classjava_1_1util_1_1concurrent_1_1_exchanger_a8933abc1a15754b8bf6a0255a899ee05_cgraph" alt=""/></div>
<map name="classjava_1_1util_1_1concurrent_1_1_exchanger_a8933abc1a15754b8bf6a0255a899ee05_cgraph" id="classjava_1_1util_1_1concurrent_1_1_exchanger_a8933abc1a15754b8bf6a0255a899ee05_cgraph">
<area shape="rect" id="node2" href="classjava_1_1lang_1_1_class.html#a1e964eb07316a697a06d5ceb92a74533" title="java.lang.Class.getDeclared\lField" alt="" coords="309,5,492,47"/>
</map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>E:/00_Code/openjdk8/java/util/concurrent/<a class="el" href="_exchanger_8java_source.html">Exchanger.java</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
