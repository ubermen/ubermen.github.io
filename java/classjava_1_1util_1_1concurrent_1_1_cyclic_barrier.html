<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>openjdk8_analysis: java.util.concurrent.CyclicBarrier Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">openjdk8_analysis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacejava.html">java</a></li><li class="navelem"><a class="el" href="namespacejava_1_1util.html">util</a></li><li class="navelem"><a class="el" href="namespacejava_1_1util_1_1concurrent.html">concurrent</a></li><li class="navelem"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html">CyclicBarrier</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">java.util.concurrent.CyclicBarrier Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2fb10932802c5eee1986888e3d3d0fcd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a2fb10932802c5eee1986888e3d3d0fcd">CyclicBarrier</a> (int parties, Runnable barrierAction)</td></tr>
<tr class="separator:a2fb10932802c5eee1986888e3d3d0fcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf2b47db7e52d737f1179770204acc43"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#aaf2b47db7e52d737f1179770204acc43">CyclicBarrier</a> (int parties)</td></tr>
<tr class="separator:aaf2b47db7e52d737f1179770204acc43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af31eedbc7080de10713695e6d0cfb09b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#af31eedbc7080de10713695e6d0cfb09b">getParties</a> ()</td></tr>
<tr class="separator:af31eedbc7080de10713695e6d0cfb09b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70638d971535f3b39aff699cef6e479e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a70638d971535f3b39aff699cef6e479e">await</a> ()  throws InterruptedException, BrokenBarrierException </td></tr>
<tr class="separator:a70638d971535f3b39aff699cef6e479e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff3e1559f7473891847d346096fbeb0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a0ff3e1559f7473891847d346096fbeb0">await</a> (long timeout, <a class="el" href="enumjava_1_1util_1_1concurrent_1_1_time_unit.html">TimeUnit</a> unit)  throws InterruptedException,                BrokenBarrierException,                TimeoutException </td></tr>
<tr class="separator:a0ff3e1559f7473891847d346096fbeb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d784df9bc8c6f3bfe05bc812651f0dd"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a8d784df9bc8c6f3bfe05bc812651f0dd">isBroken</a> ()</td></tr>
<tr class="separator:a8d784df9bc8c6f3bfe05bc812651f0dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa13c933b14f051b0dc552f5b52f9bbd2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#aa13c933b14f051b0dc552f5b52f9bbd2">reset</a> ()</td></tr>
<tr class="separator:aa13c933b14f051b0dc552f5b52f9bbd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ca12e4bb3ff77cfb3449c9e903cbfc8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a1ca12e4bb3ff77cfb3449c9e903cbfc8">getNumberWaiting</a> ()</td></tr>
<tr class="separator:a1ca12e4bb3ff77cfb3449c9e903cbfc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A synchronization aid that allows a set of threads to all wait for each other to reach a common barrier point. CyclicBarriers are useful in programs involving a fixed sized party of threads that must occasionally wait for each other. The barrier is called <em>cyclic</em> because it can be re-used after the waiting threads are released.</p>
<p>A</p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a2fb10932802c5eee1986888e3d3d0fcd">CyclicBarrier</a> </div></div><!-- fragment --><p> supports an optional <a class="el" href="">Runnable</a> command that is run once per barrier point, after the last thread in the party arrives, but before any threads are released. This <em>barrier action</em> is useful for updating shared-state before any of the parties continue.</p>
<p><b>Sample usage:</b> Here is an example of using a barrier in a parallel decomposition design:</p>
<pre><div class="fragment"><div class="line"><span class="keyword">class </span>Solver {</div><div class="line">  <span class="keyword">final</span> <span class="keywordtype">int</span> N;</div><div class="line">  <span class="keyword">final</span> <span class="keywordtype">float</span>[][] data;</div><div class="line">  <span class="keyword">final</span> <a class="code" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a2fb10932802c5eee1986888e3d3d0fcd">CyclicBarrier</a> barrier;</div><div class="line"></div><div class="line">  <span class="keyword">class </span>Worker <span class="keyword">implements</span> Runnable {</div><div class="line">    <span class="keywordtype">int</span> myRow;</div><div class="line">    Worker(<span class="keywordtype">int</span> row) { myRow = row; }</div><div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> run() {</div><div class="line">      <span class="keywordflow">while</span> (!done()) {</div><div class="line">        processRow(myRow);</div><div class="line"></div><div class="line">        <span class="keywordflow">try</span> {</div><div class="line">          barrier.await();</div><div class="line">        } <span class="keywordflow">catch</span> (InterruptedException ex) {</div><div class="line">          <span class="keywordflow">return</span>;</div><div class="line">        } <span class="keywordflow">catch</span> (BrokenBarrierException ex) {</div><div class="line">          <span class="keywordflow">return</span>;</div><div class="line">        }</div><div class="line">      }</div><div class="line">    }</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keyword">public</span> Solver(<span class="keywordtype">float</span>[][] matrix) {</div><div class="line">    data = matrix;</div><div class="line">    N = matrix.length;</div><div class="line">    Runnable barrierAction =</div><div class="line">      <span class="keyword">new</span> Runnable() { <span class="keyword">public</span> <span class="keywordtype">void</span> run() { mergeRows(...); }};</div><div class="line">    barrier = <span class="keyword">new</span> <a class="code" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a2fb10932802c5eee1986888e3d3d0fcd">CyclicBarrier</a>(N, barrierAction);</div><div class="line"></div><div class="line">    List&lt;Thread&gt; threads = <span class="keyword">new</span> ArrayList&lt;Thread&gt;(N);</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; N; i++) {</div><div class="line">      Thread thread = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Worker(i));</div><div class="line">      threads.add(thread);</div><div class="line">      thread.start();</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// wait until done</span></div><div class="line">    <span class="keywordflow">for</span> (Thread thread : threads)</div><div class="line">      thread.join();</div><div class="line">  }</div><div class="line">} </div></div><!-- fragment --> </pre><p>Here, each worker thread processes a row of the matrix then waits at the barrier until all rows have been processed. When all rows are processed the supplied <a class="el" href="">Runnable</a> barrier action is executed and merges the rows. If the merger determines that a solution has been found then</p><div class="fragment"><div class="line">done() </div></div><!-- fragment --><p> will return </p><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --><p> and each worker will terminate.</p>
<p>If the barrier action does not rely on the parties being suspended when it is executed, then any of the threads in the party could execute that action when it is released. To facilitate this, each invocation of <a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a70638d971535f3b39aff699cef6e479e">await</a> returns the arrival index of that thread at the barrier. You can then choose which thread should execute the barrier action, for example: </p><pre><div class="fragment"><div class="line"><span class="keywordflow">if</span> (barrier.await() == 0) {</div><div class="line">  <span class="comment">// log the completion of this iteration</span></div><div class="line">} </div></div><!-- fragment --> </pre><p>The</p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a2fb10932802c5eee1986888e3d3d0fcd">CyclicBarrier</a> </div></div><!-- fragment --><p> uses an all-or-none breakage model for failed synchronization attempts: If a thread leaves a barrier point prematurely because of interruption, failure, or timeout, all other threads waiting at that barrier point will also leave abnormally via <a class="el" href="classjava_1_1util_1_1concurrent_1_1_broken_barrier_exception.html">BrokenBarrierException</a> (or <a class="el" href="">InterruptedException</a> if they too were interrupted at about the same time).</p>
<p>Memory consistency effects: Actions in a thread prior to calling </p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a70638d971535f3b39aff699cef6e479e">await</a>() </div></div><!-- fragment --><p> <a href="package-summary.html#MemoryVisibility"><em>happen-before</em></a> actions that are part of the barrier action, which in turn <em>happen-before</em> actions following a successful return from the corresponding</p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a70638d971535f3b39aff699cef6e479e">await</a>() </div></div><!-- fragment --><p> in other threads.</p>
<dl class="section since"><dt>Since</dt><dd>1.5 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classjava_1_1util_1_1concurrent_1_1_count_down_latch.html">CountDownLatch</a></dd></dl>
<dl class="section author"><dt>Author</dt><dd>Doug Lea </dd></dl>

<p>Definition at line <a class="el" href="_cyclic_barrier_8java_source.html#l00139">139</a> of file <a class="el" href="_cyclic_barrier_8java_source.html">CyclicBarrier.java</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2fb10932802c5eee1986888e3d3d0fcd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">java.util.concurrent.CyclicBarrier.CyclicBarrier </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>parties</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Runnable&#160;</td>
          <td class="paramname"><em>barrierAction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new</p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a2fb10932802c5eee1986888e3d3d0fcd">CyclicBarrier</a> </div></div><!-- fragment --><p> that will trip when the given number of parties (threads) are waiting upon it, and which will execute the given barrier action when the barrier is tripped, performed by the last thread entering the barrier.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parties</td><td>the number of threads that must invoke <a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a70638d971535f3b39aff699cef6e479e">await</a> before the barrier is tripped </td></tr>
    <tr><td class="paramname">barrierAction</td><td>the command to execute when the barrier is tripped, or<div class="fragment"><div class="line">null </div></div><!-- fragment --> if there is no action </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IllegalArgumentException</td><td>if<div class="fragment"><div class="line">parties </div></div><!-- fragment --> is less than 1 </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_cyclic_barrier_8java_source.html#l00277">277</a> of file <a class="el" href="_cyclic_barrier_8java_source.html">CyclicBarrier.java</a>.</p>

</div>
</div>
<a class="anchor" id="aaf2b47db7e52d737f1179770204acc43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">java.util.concurrent.CyclicBarrier.CyclicBarrier </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>parties</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new</p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a2fb10932802c5eee1986888e3d3d0fcd">CyclicBarrier</a> </div></div><!-- fragment --><p> that will trip when the given number of parties (threads) are waiting upon it, and does not perform a predefined action when the barrier is tripped.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parties</td><td>the number of threads that must invoke <a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a70638d971535f3b39aff699cef6e479e">await</a> before the barrier is tripped </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IllegalArgumentException</td><td>if<div class="fragment"><div class="line">parties </div></div><!-- fragment --> is less than 1 </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_cyclic_barrier_8java_source.html#l00293">293</a> of file <a class="el" href="_cyclic_barrier_8java_source.html">CyclicBarrier.java</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a70638d971535f3b39aff699cef6e479e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int java.util.concurrent.CyclicBarrier.await </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws InterruptedException, <a class="el" href="classjava_1_1util_1_1concurrent_1_1_broken_barrier_exception.html">BrokenBarrierException</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Waits until all  <a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#af31eedbc7080de10713695e6d0cfb09b">getParties</a> parties} have invoked </p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a70638d971535f3b39aff699cef6e479e">await</a> </div></div><!-- fragment --><p> on this barrier.</p>
<p>If the current thread is not the last to arrive then it is disabled for thread scheduling purposes and lies dormant until one of the following things happens: </p><ul>
<li>
The last thread arrives; or </li>
<li>
Some other thread  Thread::interrupt interrupts} the current thread; or </li>
<li>
Some other thread  Thread::interrupt interrupts} one of the other waiting threads; or </li>
<li>
Some other thread times out while waiting for barrier; or </li>
<li>
Some other thread invokes <a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#aa13c933b14f051b0dc552f5b52f9bbd2">reset</a> on this barrier. </li>
</ul>
<p>If the current thread: </p><ul>
<li>
has its interrupted status set on entry to this method; or </li>
<li>
is  Thread::interrupt interrupted} while waiting </li>
</ul>
<p>then <a class="el" href="">InterruptedException</a> is thrown and the current thread's interrupted status is cleared.</p>
<p>If the barrier is <a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#aa13c933b14f051b0dc552f5b52f9bbd2">reset</a> while any thread is waiting, or if the barrier  <a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a8d784df9bc8c6f3bfe05bc812651f0dd">isBroken</a> is broken} when </p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a70638d971535f3b39aff699cef6e479e">await</a> </div></div><!-- fragment --><p> is invoked, or while any thread is waiting, then <a class="el" href="classjava_1_1util_1_1concurrent_1_1_broken_barrier_exception.html">BrokenBarrierException</a> is thrown.</p>
<p>If any thread is  Thread::interrupt interrupted} while waiting, then all other waiting threads will throw <a class="el" href="classjava_1_1util_1_1concurrent_1_1_broken_barrier_exception.html">BrokenBarrierException</a> and the barrier is placed in the broken state.</p>
<p>If the current thread is the last thread to arrive, and a non-null barrier action was supplied in the constructor, then the current thread runs the action before allowing the other threads to continue. If an exception occurs during the barrier action then that exception will be propagated in the current thread and the barrier is placed in the broken state.</p>
<dl class="section return"><dt>Returns</dt><dd>the arrival index of the current thread, where index <div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#af31eedbc7080de10713695e6d0cfb09b">getParties</a>() - 1 </div></div><!-- fragment --> indicates the first to arrive and zero indicates the last to arrive </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">InterruptedException</td><td>if the current thread was interrupted while waiting </td></tr>
    <tr><td class="paramname"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_broken_barrier_exception.html">BrokenBarrierException</a></td><td>if <em>another</em> thread was interrupted or timed out while the current thread was waiting, or the barrier was reset, or the barrier was broken when<div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a70638d971535f3b39aff699cef6e479e">await</a> </div></div><!-- fragment --> was called, or the barrier action (if present) failed due to an exception </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_cyclic_barrier_8java_source.html#l00360">360</a> of file <a class="el" href="_cyclic_barrier_8java_source.html">CyclicBarrier.java</a>.</p>

</div>
</div>
<a class="anchor" id="a0ff3e1559f7473891847d346096fbeb0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int java.util.concurrent.CyclicBarrier.await </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enumjava_1_1util_1_1concurrent_1_1_time_unit.html">TimeUnit</a>&#160;</td>
          <td class="paramname"><em>unit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws InterruptedException,                <a class="el" href="classjava_1_1util_1_1concurrent_1_1_broken_barrier_exception.html">BrokenBarrierException</a>,                <a class="el" href="classjava_1_1util_1_1concurrent_1_1_timeout_exception.html">TimeoutException</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Waits until all  <a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#af31eedbc7080de10713695e6d0cfb09b">getParties</a> parties} have invoked </p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a70638d971535f3b39aff699cef6e479e">await</a> </div></div><!-- fragment --><p> on this barrier, or the specified waiting time elapses.</p>
<p>If the current thread is not the last to arrive then it is disabled for thread scheduling purposes and lies dormant until one of the following things happens: </p><ul>
<li>
The last thread arrives; or </li>
<li>
The specified timeout elapses; or </li>
<li>
Some other thread  Thread::interrupt interrupts} the current thread; or </li>
<li>
Some other thread  Thread::interrupt interrupts} one of the other waiting threads; or </li>
<li>
Some other thread times out while waiting for barrier; or </li>
<li>
Some other thread invokes <a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#aa13c933b14f051b0dc552f5b52f9bbd2">reset</a> on this barrier. </li>
</ul>
<p>If the current thread: </p><ul>
<li>
has its interrupted status set on entry to this method; or </li>
<li>
is  Thread::interrupt interrupted} while waiting </li>
</ul>
<p>then <a class="el" href="">InterruptedException</a> is thrown and the current thread's interrupted status is cleared.</p>
<p>If the specified waiting time elapses then <a class="el" href="classjava_1_1util_1_1concurrent_1_1_timeout_exception.html">TimeoutException</a> is thrown. If the time is less than or equal to zero, the method will not wait at all.</p>
<p>If the barrier is <a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#aa13c933b14f051b0dc552f5b52f9bbd2">reset</a> while any thread is waiting, or if the barrier  <a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a8d784df9bc8c6f3bfe05bc812651f0dd">isBroken</a> is broken} when </p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a70638d971535f3b39aff699cef6e479e">await</a> </div></div><!-- fragment --><p> is invoked, or while any thread is waiting, then <a class="el" href="classjava_1_1util_1_1concurrent_1_1_broken_barrier_exception.html">BrokenBarrierException</a> is thrown.</p>
<p>If any thread is  Thread::interrupt interrupted} while waiting, then all other waiting threads will throw <a class="el" href="classjava_1_1util_1_1concurrent_1_1_broken_barrier_exception.html">BrokenBarrierException</a> and the barrier is placed in the broken state.</p>
<p>If the current thread is the last thread to arrive, and a non-null barrier action was supplied in the constructor, then the current thread runs the action before allowing the other threads to continue. If an exception occurs during the barrier action then that exception will be propagated in the current thread and the barrier is placed in the broken state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>the time to wait for the barrier </td></tr>
    <tr><td class="paramname">unit</td><td>the time unit of the timeout parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the arrival index of the current thread, where index <div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#af31eedbc7080de10713695e6d0cfb09b">getParties</a>() - 1 </div></div><!-- fragment --> indicates the first to arrive and zero indicates the last to arrive </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">InterruptedException</td><td>if the current thread was interrupted while waiting </td></tr>
    <tr><td class="paramname"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_timeout_exception.html">TimeoutException</a></td><td>if the specified timeout elapses. In this case the barrier will be broken. </td></tr>
    <tr><td class="paramname"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_broken_barrier_exception.html">BrokenBarrierException</a></td><td>if <em>another</em> thread was interrupted or timed out while the current thread was waiting, or the barrier was reset, or the barrier was broken when<div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a70638d971535f3b39aff699cef6e479e">await</a> </div></div><!-- fragment --> was called, or the barrier action (if present) failed due to an exception </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_cyclic_barrier_8java_source.html#l00431">431</a> of file <a class="el" href="_cyclic_barrier_8java_source.html">CyclicBarrier.java</a>.</p>

</div>
</div>
<a class="anchor" id="a1ca12e4bb3ff77cfb3449c9e903cbfc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int java.util.concurrent.CyclicBarrier.getNumberWaiting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of parties currently waiting at the barrier. This method is primarily useful for debugging and assertions.</p>
<dl class="section return"><dt>Returns</dt><dd>the number of parties currently blocked in <a class="el" href="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier.html#a70638d971535f3b39aff699cef6e479e">await</a> </dd></dl>

<p>Definition at line <a class="el" href="_cyclic_barrier_8java_source.html#l00482">482</a> of file <a class="el" href="_cyclic_barrier_8java_source.html">CyclicBarrier.java</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier_a1ca12e4bb3ff77cfb3449c9e903cbfc8_cgraph.png" border="0" usemap="#classjava_1_1util_1_1concurrent_1_1_cyclic_barrier_a1ca12e4bb3ff77cfb3449c9e903cbfc8_cgraph" alt=""/></div>
<map name="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier_a1ca12e4bb3ff77cfb3449c9e903cbfc8_cgraph" id="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier_a1ca12e4bb3ff77cfb3449c9e903cbfc8_cgraph">
<area shape="rect" id="node2" href="classjava_1_1util_1_1concurrent_1_1locks_1_1_reentrant_lock.html#ab186cda21f6be118e0330997869072cf" title="java.util.concurrent.locks.\lReentrantLock.lock" alt="" coords="224,5,393,47"/>
<area shape="rect" id="node3" href="classjava_1_1util_1_1concurrent_1_1locks_1_1_reentrant_lock.html#a5672ea8844d2a49f41c16c5188072518" title="java.util.concurrent.locks.\lReentrantLock.unlock" alt="" coords="224,71,393,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af31eedbc7080de10713695e6d0cfb09b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int java.util.concurrent.CyclicBarrier.getParties </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of parties required to trip this barrier.</p>
<dl class="section return"><dt>Returns</dt><dd>the number of parties required to trip this barrier </dd></dl>

<p>Definition at line <a class="el" href="_cyclic_barrier_8java_source.html#l00302">302</a> of file <a class="el" href="_cyclic_barrier_8java_source.html">CyclicBarrier.java</a>.</p>

</div>
</div>
<a class="anchor" id="a8d784df9bc8c6f3bfe05bc812651f0dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean java.util.concurrent.CyclicBarrier.isBroken </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Queries if this barrier is in a broken state.</p>
<dl class="section return"><dt>Returns</dt><dd><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --> if one or more parties broke out of this barrier due to interruption or timeout since construction or the last reset, or a barrier action failed due to an exception;<div class="fragment"><div class="line"><span class="keyword">false</span> </div></div><!-- fragment --> otherwise. </dd></dl>

<p>Definition at line <a class="el" href="_cyclic_barrier_8java_source.html#l00446">446</a> of file <a class="el" href="_cyclic_barrier_8java_source.html">CyclicBarrier.java</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier_a8d784df9bc8c6f3bfe05bc812651f0dd_cgraph.png" border="0" usemap="#classjava_1_1util_1_1concurrent_1_1_cyclic_barrier_a8d784df9bc8c6f3bfe05bc812651f0dd_cgraph" alt=""/></div>
<map name="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier_a8d784df9bc8c6f3bfe05bc812651f0dd_cgraph" id="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier_a8d784df9bc8c6f3bfe05bc812651f0dd_cgraph">
<area shape="rect" id="node2" href="classjava_1_1util_1_1concurrent_1_1locks_1_1_reentrant_lock.html#ab186cda21f6be118e0330997869072cf" title="java.util.concurrent.locks.\lReentrantLock.lock" alt="" coords="224,5,393,47"/>
<area shape="rect" id="node3" href="classjava_1_1util_1_1concurrent_1_1locks_1_1_reentrant_lock.html#a5672ea8844d2a49f41c16c5188072518" title="java.util.concurrent.locks.\lReentrantLock.unlock" alt="" coords="224,71,393,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa13c933b14f051b0dc552f5b52f9bbd2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void java.util.concurrent.CyclicBarrier.reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets the barrier to its initial state. If any parties are currently waiting at the barrier, they will return with a <a class="el" href="classjava_1_1util_1_1concurrent_1_1_broken_barrier_exception.html">BrokenBarrierException</a>. Note that resets <em>after</em> a breakage has occurred for other reasons can be complicated to carry out; threads need to re-synchronize in some other way, and choose one to perform the reset. It may be preferable to instead create a new barrier for subsequent use. </p>

<p>Definition at line <a class="el" href="_cyclic_barrier_8java_source.html#l00465">465</a> of file <a class="el" href="_cyclic_barrier_8java_source.html">CyclicBarrier.java</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier_aa13c933b14f051b0dc552f5b52f9bbd2_cgraph.png" border="0" usemap="#classjava_1_1util_1_1concurrent_1_1_cyclic_barrier_aa13c933b14f051b0dc552f5b52f9bbd2_cgraph" alt=""/></div>
<map name="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier_aa13c933b14f051b0dc552f5b52f9bbd2_cgraph" id="classjava_1_1util_1_1concurrent_1_1_cyclic_barrier_aa13c933b14f051b0dc552f5b52f9bbd2_cgraph">
<area shape="rect" id="node2" href="classjava_1_1util_1_1concurrent_1_1locks_1_1_reentrant_lock.html#ab186cda21f6be118e0330997869072cf" title="java.util.concurrent.locks.\lReentrantLock.lock" alt="" coords="224,5,393,47"/>
<area shape="rect" id="node3" href="classjava_1_1util_1_1concurrent_1_1locks_1_1_reentrant_lock.html#a5672ea8844d2a49f41c16c5188072518" title="java.util.concurrent.locks.\lReentrantLock.unlock" alt="" coords="224,71,393,112"/>
</map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>E:/00_Code/openjdk8/java/util/concurrent/<a class="el" href="_cyclic_barrier_8java_source.html">CyclicBarrier.java</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
