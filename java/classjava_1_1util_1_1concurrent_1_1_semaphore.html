<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>openjdk8_analysis: java.util.concurrent.Semaphore Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">openjdk8_analysis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacejava.html">java</a></li><li class="navelem"><a class="el" href="namespacejava_1_1util.html">util</a></li><li class="navelem"><a class="el" href="namespacejava_1_1util_1_1concurrent.html">concurrent</a></li><li class="navelem"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html">Semaphore</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classjava_1_1util_1_1concurrent_1_1_semaphore-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">java.util.concurrent.Semaphore Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for java.util.concurrent.Semaphore:</div>
<div class="dyncontent">
<div class="center"><img src="classjava_1_1util_1_1concurrent_1_1_semaphore__inherit__graph.png" border="0" usemap="#java_8util_8concurrent_8_semaphore_inherit__map" alt="Inheritance graph"/></div>
<map name="java_8util_8concurrent_8_semaphore_inherit__map" id="java_8util_8concurrent_8_semaphore_inherit__map">
<area shape="rect" id="node2" href="interfacejava_1_1io_1_1_serializable.html" title="java.io.Serializable" alt="" coords="41,5,170,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for java.util.concurrent.Semaphore:</div>
<div class="dyncontent">
<div class="center"><img src="classjava_1_1util_1_1concurrent_1_1_semaphore__coll__graph.png" border="0" usemap="#java_8util_8concurrent_8_semaphore_coll__map" alt="Collaboration graph"/></div>
<map name="java_8util_8concurrent_8_semaphore_coll__map" id="java_8util_8concurrent_8_semaphore_coll__map">
<area shape="rect" id="node2" href="interfacejava_1_1io_1_1_serializable.html" title="java.io.Serializable" alt="" coords="41,5,170,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>FairSync</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>NonfairSync</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>Sync</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a422091db98f9184a80e1b0beeea12cca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a422091db98f9184a80e1b0beeea12cca">Semaphore</a> (int permits)</td></tr>
<tr class="separator:a422091db98f9184a80e1b0beeea12cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fda81d6b6ea50eca7e492fa1c85dabd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a5fda81d6b6ea50eca7e492fa1c85dabd">Semaphore</a> (int permits, boolean fair)</td></tr>
<tr class="separator:a5fda81d6b6ea50eca7e492fa1c85dabd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5686bf6e12fed6dcee774b433d023095"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a5686bf6e12fed6dcee774b433d023095">acquire</a> ()  throws InterruptedException </td></tr>
<tr class="separator:a5686bf6e12fed6dcee774b433d023095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fd5077d7723a377d63123b024ec726d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a1fd5077d7723a377d63123b024ec726d">acquireUninterruptibly</a> ()</td></tr>
<tr class="separator:a1fd5077d7723a377d63123b024ec726d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a526707f99148c073a370aeabb76f5bcc"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a526707f99148c073a370aeabb76f5bcc">tryAcquire</a> ()</td></tr>
<tr class="separator:a526707f99148c073a370aeabb76f5bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf14d35588f613ceae545ed73835f5d4"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#adf14d35588f613ceae545ed73835f5d4">tryAcquire</a> (long timeout, <a class="el" href="enumjava_1_1util_1_1concurrent_1_1_time_unit.html">TimeUnit</a> unit)  throws InterruptedException </td></tr>
<tr class="separator:adf14d35588f613ceae545ed73835f5d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad439f289ee1827bac5bc35fbf077b63b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#ad439f289ee1827bac5bc35fbf077b63b">release</a> ()</td></tr>
<tr class="separator:ad439f289ee1827bac5bc35fbf077b63b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a560af517fb50633d5f061a29a06cf8e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a560af517fb50633d5f061a29a06cf8e2">acquire</a> (int permits)  throws InterruptedException </td></tr>
<tr class="separator:a560af517fb50633d5f061a29a06cf8e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41caae285dce544e45614cbe4f868522"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a41caae285dce544e45614cbe4f868522">acquireUninterruptibly</a> (int permits)</td></tr>
<tr class="separator:a41caae285dce544e45614cbe4f868522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a675bdab77e96a19b7b7676fa1273e9a6"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a675bdab77e96a19b7b7676fa1273e9a6">tryAcquire</a> (int permits)</td></tr>
<tr class="separator:a675bdab77e96a19b7b7676fa1273e9a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4a5b84b74814377abd7d8522f5cb226"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#ab4a5b84b74814377abd7d8522f5cb226">tryAcquire</a> (int permits, long timeout, <a class="el" href="enumjava_1_1util_1_1concurrent_1_1_time_unit.html">TimeUnit</a> unit)  throws InterruptedException </td></tr>
<tr class="separator:ab4a5b84b74814377abd7d8522f5cb226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb884c3aec67260dcab0b146d54f7d0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#acb884c3aec67260dcab0b146d54f7d0e">release</a> (int permits)</td></tr>
<tr class="separator:acb884c3aec67260dcab0b146d54f7d0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5764cf86191d91de910fba11cb8c28c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a5764cf86191d91de910fba11cb8c28c4">availablePermits</a> ()</td></tr>
<tr class="separator:a5764cf86191d91de910fba11cb8c28c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff0995a6202908672efa7532191f3988"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#aff0995a6202908672efa7532191f3988">drainPermits</a> ()</td></tr>
<tr class="separator:aff0995a6202908672efa7532191f3988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0b200d3cc0841f96641ee8f9a00964d"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#ac0b200d3cc0841f96641ee8f9a00964d">isFair</a> ()</td></tr>
<tr class="separator:ac0b200d3cc0841f96641ee8f9a00964d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc87b7bd671833b1acd7333758e13e10"><td class="memItemLeft" align="right" valign="top">final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#abc87b7bd671833b1acd7333758e13e10">hasQueuedThreads</a> ()</td></tr>
<tr class="separator:abc87b7bd671833b1acd7333758e13e10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f1efc31c8fbb5b2d2fb19a83a9d3d67"><td class="memItemLeft" align="right" valign="top">final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a8f1efc31c8fbb5b2d2fb19a83a9d3d67">getQueueLength</a> ()</td></tr>
<tr class="separator:a8f1efc31c8fbb5b2d2fb19a83a9d3d67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92c6c0c8da5d16546eee197310e878e8"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a92c6c0c8da5d16546eee197310e878e8">toString</a> ()</td></tr>
<tr class="separator:a92c6c0c8da5d16546eee197310e878e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a7eb4687788f850a01bc024ee6939c9a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a7eb4687788f850a01bc024ee6939c9a6">reducePermits</a> (int reduction)</td></tr>
<tr class="separator:a7eb4687788f850a01bc024ee6939c9a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa325ce4bcab5f57484c4fd661cff0228"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfacejava_1_1util_1_1_collection.html">Collection</a>&lt; Thread &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#aa325ce4bcab5f57484c4fd661cff0228">getQueuedThreads</a> ()</td></tr>
<tr class="separator:aa325ce4bcab5f57484c4fd661cff0228"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A counting semaphore. Conceptually, a semaphore maintains a set of permits. Each <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a5686bf6e12fed6dcee774b433d023095">acquire</a> blocks if necessary until a permit is available, and then takes it. Each <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#ad439f289ee1827bac5bc35fbf077b63b">release</a> adds a permit, potentially releasing a blocking acquirer. However, no actual permit objects are used; the</p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a422091db98f9184a80e1b0beeea12cca">Semaphore</a> </div></div><!-- fragment --><p> just keeps a count of the number available and acts accordingly.</p>
<p>Semaphores are often used to restrict the number of threads than can access some (physical or logical) resource. For example, here is a class that uses a semaphore to control access to a pool of items: </p><pre><div class="fragment"><div class="line"><span class="keyword">class </span>Pool {</div><div class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">int</span> MAX_AVAILABLE = 100;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">final</span> <a class="code" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a422091db98f9184a80e1b0beeea12cca">Semaphore</a> available = <span class="keyword">new</span> <a class="code" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a422091db98f9184a80e1b0beeea12cca">Semaphore</a>(MAX_AVAILABLE, <span class="keyword">true</span>);</div><div class="line"></div><div class="line">  <span class="keyword">public</span> Object getItem() throws InterruptedException {</div><div class="line">    available.acquire();</div><div class="line">    <span class="keywordflow">return</span> getNextAvailableItem();</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keyword">public</span> <span class="keywordtype">void</span> putItem(Object x) {</div><div class="line">    <span class="keywordflow">if</span> (markAsUnused(x))</div><div class="line">      available.release();</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// Not a particularly efficient data structure; just for demo</span></div><div class="line"></div><div class="line">  <span class="keyword">protected</span> Object[] items = ... whatever kinds of items being managed</div><div class="line">  <span class="keyword">protected</span> <span class="keywordtype">boolean</span>[] used = <span class="keyword">new</span> <span class="keywordtype">boolean</span>[MAX_AVAILABLE];</div><div class="line"></div><div class="line">  <span class="keyword">protected</span> <span class="keyword">synchronized</span> Object getNextAvailableItem() {</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; MAX_AVAILABLE; ++i) {</div><div class="line">      <span class="keywordflow">if</span> (!used[i]) {</div><div class="line">         used[i] = <span class="keyword">true</span>;</div><div class="line">         <span class="keywordflow">return</span> items[i];</div><div class="line">      }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> null; <span class="comment">// not reached</span></div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keyword">protected</span> <span class="keyword">synchronized</span> <span class="keywordtype">boolean</span> markAsUnused(Object item) {</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; MAX_AVAILABLE; ++i) {</div><div class="line">      <span class="keywordflow">if</span> (item == items[i]) {</div><div class="line">         <span class="keywordflow">if</span> (used[i]) {</div><div class="line">           used[i] = <span class="keyword">false</span>;</div><div class="line">           <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line">         } <span class="keywordflow">else</span></div><div class="line">           <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line">      }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line">  }</div><div class="line">} </div></div><!-- fragment --> </pre><p>Before obtaining an item each thread must acquire a permit from the semaphore, guaranteeing that an item is available for use. When the thread has finished with the item it is returned back to the pool and a permit is returned to the semaphore, allowing another thread to acquire that item. Note that no synchronization lock is held when <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a5686bf6e12fed6dcee774b433d023095">acquire</a> is called as that would prevent an item from being returned to the pool. The semaphore encapsulates the synchronization needed to restrict access to the pool, separately from any synchronization needed to maintain the consistency of the pool itself.</p>
<p>A semaphore initialized to one, and which is used such that it only has at most one permit available, can serve as a mutual exclusion lock. This is more commonly known as a <em>binary semaphore</em>, because it only has two states: one permit available, or zero permits available. When used in this way, the binary semaphore has the property (unlike many <a class="el" href="interfacejava_1_1util_1_1concurrent_1_1locks_1_1_lock.html">java.util.concurrent.locks.Lock</a> implementations), that the &quot;lock&quot; can be released by a thread other than the owner (as semaphores have no notion of ownership). This can be useful in some specialized contexts, such as deadlock recovery.</p>
<p>The constructor for this class optionally accepts a <em>fairness</em> parameter. When set false, this class makes no guarantees about the order in which threads acquire permits. In particular, <em>barging</em> is permitted, that is, a thread invoking <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a5686bf6e12fed6dcee774b433d023095">acquire</a> can be allocated a permit ahead of a thread that has been waiting - logically the new thread places itself at the head of the queue of waiting threads. When fairness is set true, the semaphore guarantees that threads invoking any of the <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a5686bf6e12fed6dcee774b433d023095">acquire</a> methods are selected to obtain permits in the order in which their invocation of those methods was processed (first-in-first-out; FIFO). Note that FIFO ordering necessarily applies to specific internal points of execution within these methods. So, it is possible for one thread to invoke </p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a5686bf6e12fed6dcee774b433d023095">acquire</a> </div></div><!-- fragment --><p> before another, but reach the ordering point after the other, and similarly upon return from the method. Also note that the untimed <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a526707f99148c073a370aeabb76f5bcc">tryAcquire</a> methods do not honor the fairness setting, but will take any permits that are available.</p>
<p>Generally, semaphores used to control resource access should be initialized as fair, to ensure that no thread is starved out from accessing a resource. When using semaphores for other kinds of synchronization control, the throughput advantages of non-fair ordering often outweigh fairness considerations.</p>
<p>This class also provides convenience methods to <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a560af517fb50633d5f061a29a06cf8e2">acquire</a> and <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#acb884c3aec67260dcab0b146d54f7d0e">release</a> multiple permits at a time. Beware of the increased risk of indefinite postponement when these methods are used without fairness set true.</p>
<p>Memory consistency effects: Actions in a thread prior to calling a "release" method such as</p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#ad439f289ee1827bac5bc35fbf077b63b">release</a>() </div></div><!-- fragment --><p> <a href="package-summary.html#MemoryVisibility"><em>happen-before</em></a> actions following a successful "acquire" method such as</p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a5686bf6e12fed6dcee774b433d023095">acquire</a>() </div></div><!-- fragment --><p> in another thread.</p>
<dl class="section since"><dt>Since</dt><dd>1.5 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Doug Lea </dd></dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00156">156</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a422091db98f9184a80e1b0beeea12cca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">java.util.concurrent.Semaphore.Semaphore </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>permits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a</p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a422091db98f9184a80e1b0beeea12cca">Semaphore</a> </div></div><!-- fragment --><p> with the given number of permits and nonfair fairness setting.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">permits</td><td>the initial number of permits available. This value may be negative, in which case releases must occur before any acquires will be granted. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00264">264</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="a5fda81d6b6ea50eca7e492fa1c85dabd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">java.util.concurrent.Semaphore.Semaphore </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>permits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>fair</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a</p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a422091db98f9184a80e1b0beeea12cca">Semaphore</a> </div></div><!-- fragment --><p> with the given number of permits and the given fairness setting.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">permits</td><td>the initial number of permits available. This value may be negative, in which case releases must occur before any acquires will be granted. </td></tr>
    <tr><td class="paramname">fair</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00279">279</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5686bf6e12fed6dcee774b433d023095"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void java.util.concurrent.Semaphore.acquire </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws InterruptedException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acquires a permit from this semaphore, blocking until one is available, or the thread is  Thread::interrupt interrupted}.</p>
<p>Acquires a permit, if one is available and returns immediately, reducing the number of available permits by one.</p>
<p>If no permit is available then the current thread becomes disabled for thread scheduling purposes and lies dormant until one of two things happens: </p><ul>
<li>
Some other thread invokes the <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#ad439f289ee1827bac5bc35fbf077b63b">release</a> method for this semaphore and the current thread is next to be assigned a permit; or </li>
<li>
Some other thread  Thread::interrupt interrupts} the current thread. </li>
</ul>
<p>If the current thread: </p><ul>
<li>
has its interrupted status set on entry to this method; or </li>
<li>
is  Thread::interrupt interrupted} while waiting for a permit, </li>
</ul>
<p>then <a class="el" href="">InterruptedException</a> is thrown and the current thread's interrupted status is cleared.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">InterruptedException</td><td>if the current thread is interrupted </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00311">311</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="a560af517fb50633d5f061a29a06cf8e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void java.util.concurrent.Semaphore.acquire </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>permits</em></td><td>)</td>
          <td> throws InterruptedException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acquires the given number of permits from this semaphore, blocking until all are available, or the thread is  Thread::interrupt interrupted}.</p>
<p>Acquires the given number of permits, if they are available, and returns immediately, reducing the number of available permits by the given amount.</p>
<p>If insufficient permits are available then the current thread becomes disabled for thread scheduling purposes and lies dormant until one of two things happens: </p><ul>
<li>
Some other thread invokes one of the <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#ad439f289ee1827bac5bc35fbf077b63b">release</a> methods for this semaphore, the current thread is next to be assigned permits and the number of available permits satisfies this request; or </li>
<li>
Some other thread  Thread::interrupt interrupts} the current thread. </li>
</ul>
<p>If the current thread: </p><ul>
<li>
has its interrupted status set on entry to this method; or </li>
<li>
is  Thread::interrupt interrupted} while waiting for a permit, </li>
</ul>
<p>then <a class="el" href="">InterruptedException</a> is thrown and the current thread's interrupted status is cleared. Any permits that were to be assigned to this thread are instead assigned to other threads trying to acquire permits, as if permits had been made available by a call to <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#ad439f289ee1827bac5bc35fbf077b63b">release()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">permits</td><td>the number of permits to acquire </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">InterruptedException</td><td>if the current thread is interrupted </td></tr>
    <tr><td class="paramname">IllegalArgumentException</td><td>if<div class="fragment"><div class="line">permits </div></div><!-- fragment --> is negative </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00465">465</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="a1fd5077d7723a377d63123b024ec726d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void java.util.concurrent.Semaphore.acquireUninterruptibly </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acquires a permit from this semaphore, blocking until one is available.</p>
<p>Acquires a permit, if one is available and returns immediately, reducing the number of available permits by one.</p>
<p>If no permit is available then the current thread becomes disabled for thread scheduling purposes and lies dormant until some other thread invokes the <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#ad439f289ee1827bac5bc35fbf077b63b">release</a> method for this semaphore and the current thread is next to be assigned a permit.</p>
<p>If the current thread is  Thread::interrupt interrupted} while waiting for a permit then it will continue to wait, but the time at which the thread is assigned a permit may change compared to the time it would have received the permit had no interruption occurred. When the thread does return from this method its interrupt status will be set. </p>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00334">334</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="a41caae285dce544e45614cbe4f868522"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void java.util.concurrent.Semaphore.acquireUninterruptibly </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>permits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acquires the given number of permits from this semaphore, blocking until all are available.</p>
<p>Acquires the given number of permits, if they are available, and returns immediately, reducing the number of available permits by the given amount.</p>
<p>If insufficient permits are available then the current thread becomes disabled for thread scheduling purposes and lies dormant until some other thread invokes one of the <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#ad439f289ee1827bac5bc35fbf077b63b">release</a> methods for this semaphore, the current thread is next to be assigned permits and the number of available permits satisfies this request.</p>
<p>If the current thread is  Thread::interrupt interrupted} while waiting for permits then it will continue to wait and its position in the queue is not affected. When the thread does return from this method its interrupt status will be set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">permits</td><td>the number of permits to acquire </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IllegalArgumentException</td><td>if<div class="fragment"><div class="line">permits </div></div><!-- fragment --> is negative </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00492">492</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="a5764cf86191d91de910fba11cb8c28c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int java.util.concurrent.Semaphore.availablePermits </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the current number of permits available in this semaphore.</p>
<p>This method is typically used for debugging and testing purposes.</p>
<dl class="section return"><dt>Returns</dt><dd>the number of permits available in this semaphore </dd></dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00619">619</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="aff0995a6202908672efa7532191f3988"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int java.util.concurrent.Semaphore.drainPermits </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acquires and returns all permits that are immediately available.</p>
<dl class="section return"><dt>Returns</dt><dd>the number of permits acquired </dd></dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00628">628</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="aa325ce4bcab5f57484c4fd661cff0228"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfacejava_1_1util_1_1_collection.html">Collection</a>&lt;Thread&gt; java.util.concurrent.Semaphore.getQueuedThreads </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a collection containing threads that may be waiting to acquire. Because the actual set of threads may change dynamically while constructing this result, the returned collection is only a best-effort estimate. The elements of the returned collection are in no particular order. This method is designed to facilitate construction of subclasses that provide more extensive monitoring facilities.</p>
<dl class="section return"><dt>Returns</dt><dd>the collection of threads </dd></dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00693">693</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="a8f1efc31c8fbb5b2d2fb19a83a9d3d67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final int java.util.concurrent.Semaphore.getQueueLength </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns an estimate of the number of threads waiting to acquire. The value is only an estimate because the number of threads may change dynamically while this method traverses internal data structures. This method is designed for use in monitoring of the system state, not for synchronization control.</p>
<dl class="section return"><dt>Returns</dt><dd>the estimated number of threads waiting for this lock </dd></dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00679">679</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="abc87b7bd671833b1acd7333758e13e10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final boolean java.util.concurrent.Semaphore.hasQueuedThreads </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Queries whether any threads are waiting to acquire. Note that because cancellations may occur at any time, a</p><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --><p> return does not guarantee that any other thread will ever acquire. This method is designed primarily for use in monitoring of the system state.</p>
<dl class="section return"><dt>Returns</dt><dd><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --> if there may be other threads waiting to acquire the lock </dd></dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00666">666</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="ac0b200d3cc0841f96641ee8f9a00964d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean java.util.concurrent.Semaphore.isFair </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns</p><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --><p> if this semaphore has fairness set true.</p>
<dl class="section return"><dt>Returns</dt><dd><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --> if this semaphore has fairness set true </dd></dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00652">652</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="a7eb4687788f850a01bc024ee6939c9a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void java.util.concurrent.Semaphore.reducePermits </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reduction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Shrinks the number of available permits by the indicated reduction. This method can be useful in subclasses that use semaphores to track resources that become unavailable. This method differs from</p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a5686bf6e12fed6dcee774b433d023095">acquire</a> </div></div><!-- fragment --><p> in that it does not block waiting for permits to become available.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reduction</td><td>the number of permits to remove </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IllegalArgumentException</td><td>if<div class="fragment"><div class="line">reduction </div></div><!-- fragment --> is negative </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00642">642</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="ad439f289ee1827bac5bc35fbf077b63b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void java.util.concurrent.Semaphore.release </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Releases a permit, returning it to the semaphore.</p>
<p>Releases a permit, increasing the number of available permits by one. If any threads are trying to acquire a permit, then one is selected and given the permit that was just released. That thread is (re)enabled for thread scheduling purposes.</p>
<p>There is no requirement that a thread that releases a permit must have acquired that permit by calling <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a5686bf6e12fed6dcee774b433d023095">acquire</a>. Correct usage of a semaphore is established by programming convention in the application. </p>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00425">425</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="acb884c3aec67260dcab0b146d54f7d0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void java.util.concurrent.Semaphore.release </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>permits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Releases the given number of permits, returning them to the semaphore.</p>
<p>Releases the given number of permits, increasing the number of available permits by that amount. If any threads are trying to acquire permits, then one is selected and given the permits that were just released. If the number of available permits satisfies that thread's request then that thread is (re)enabled for thread scheduling purposes; otherwise the thread will wait until sufficient permits are available. If there are still permits available after this thread's request has been satisfied, then those permits are assigned in turn to other threads trying to acquire permits.</p>
<p>There is no requirement that a thread that releases a permit must have acquired that permit by calling <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a5686bf6e12fed6dcee774b433d023095">acquire</a>. Correct usage of a semaphore is established by programming convention in the application.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">permits</td><td>the number of permits to release </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IllegalArgumentException</td><td>if<div class="fragment"><div class="line">permits </div></div><!-- fragment --> is negative </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00607">607</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="a92c6c0c8da5d16546eee197310e878e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String java.util.concurrent.Semaphore.toString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a string identifying this semaphore, as well as its state. The state, in brackets, includes the String</p><div class="fragment"><div class="line"><span class="stringliteral">&quot;Permits =&quot;</span> </div></div><!-- fragment --><p> followed by the number of permits.</p>
<dl class="section return"><dt>Returns</dt><dd>a string identifying this semaphore, as well as its state </dd></dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00704">704</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="a526707f99148c073a370aeabb76f5bcc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean java.util.concurrent.Semaphore.tryAcquire </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acquires a permit from this semaphore, only if one is available at the time of invocation.</p>
<p>Acquires a permit, if one is available and returns immediately, with the value</p><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --><p> , reducing the number of available permits by one.</p>
<p>If no permit is available then this method will return immediately with the value</p><div class="fragment"><div class="line"><span class="keyword">false</span> </div></div><!-- fragment --><p> .</p>
<p>Even when this semaphore has been set to use a fair ordering policy, a call to</p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a526707f99148c073a370aeabb76f5bcc">tryAcquire</a>() </div></div><!-- fragment --><p> <em>will</em> immediately acquire a permit if one is available, whether or not other threads are currently waiting. This &quot;barging&quot; behavior can be useful in certain circumstances, even though it breaks fairness. If you want to honor the fairness setting, then use <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#adf14d35588f613ceae545ed73835f5d4">tryAcquire(0, TimeUnit.SECONDS) </a> which is almost equivalent (it also detects interruption).</p>
<dl class="section return"><dt>Returns</dt><dd><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --> if a permit was acquired and<div class="fragment"><div class="line"><span class="keyword">false</span> </div></div><!-- fragment --> otherwise </dd></dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00362">362</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="adf14d35588f613ceae545ed73835f5d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean java.util.concurrent.Semaphore.tryAcquire </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enumjava_1_1util_1_1concurrent_1_1_time_unit.html">TimeUnit</a>&#160;</td>
          <td class="paramname"><em>unit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws InterruptedException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acquires a permit from this semaphore, if one becomes available within the given waiting time and the current thread has not been  Thread::interrupt interrupted}.</p>
<p>Acquires a permit, if one is available and returns immediately, with the value</p><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --><p> , reducing the number of available permits by one.</p>
<p>If no permit is available then the current thread becomes disabled for thread scheduling purposes and lies dormant until one of three things happens: </p><ul>
<li>
Some other thread invokes the <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#ad439f289ee1827bac5bc35fbf077b63b">release</a> method for this semaphore and the current thread is next to be assigned a permit; or </li>
<li>
Some other thread  Thread::interrupt interrupts} the current thread; or </li>
<li>
The specified waiting time elapses. </li>
</ul>
<p>If a permit is acquired then the value</p><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --><p> is returned.</p>
<p>If the current thread: </p><ul>
<li>
has its interrupted status set on entry to this method; or </li>
<li>
is  Thread::interrupt interrupted} while waiting to acquire a permit, </li>
</ul>
<p>then <a class="el" href="">InterruptedException</a> is thrown and the current thread's interrupted status is cleared.</p>
<p>If the specified waiting time elapses then the value</p><div class="fragment"><div class="line"><span class="keyword">false</span> </div></div><!-- fragment --><p> is returned. If the time is less than or equal to zero, the method will not wait at all.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>the maximum time to wait for a permit </td></tr>
    <tr><td class="paramname">unit</td><td>the time unit of the<div class="fragment"><div class="line">timeout </div></div><!-- fragment --> argument </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --> if a permit was acquired and<div class="fragment"><div class="line"><span class="keyword">false</span> </div></div><!-- fragment --> if the waiting time elapsed before a permit was acquired </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">InterruptedException</td><td>if the current thread is interrupted </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00407">407</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="a675bdab77e96a19b7b7676fa1273e9a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean java.util.concurrent.Semaphore.tryAcquire </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>permits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acquires the given number of permits from this semaphore, only if all are available at the time of invocation.</p>
<p>Acquires the given number of permits, if they are available, and returns immediately, with the value</p><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --><p> , reducing the number of available permits by the given amount.</p>
<p>If insufficient permits are available then this method will return immediately with the value</p><div class="fragment"><div class="line"><span class="keyword">false</span> </div></div><!-- fragment --><p> and the number of available permits is unchanged.</p>
<p>Even when this semaphore has been set to use a fair ordering policy, a call to</p><div class="fragment"><div class="line"><a class="code" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a526707f99148c073a370aeabb76f5bcc">tryAcquire</a> </div></div><!-- fragment --><p> <em>will</em> immediately acquire a permit if one is available, whether or not other threads are currently waiting. This &quot;barging&quot; behavior can be useful in certain circumstances, even though it breaks fairness. If you want to honor the fairness setting, then use <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#a675bdab77e96a19b7b7676fa1273e9a6">long, TimeUnit) tryAcquire(permits, 0, TimeUnit.SECONDS) </a> which is almost equivalent (it also detects interruption).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">permits</td><td>the number of permits to acquire </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --> if the permits were acquired and <div class="fragment"><div class="line"><span class="keyword">false</span> </div></div><!-- fragment --> otherwise </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IllegalArgumentException</td><td>if<div class="fragment"><div class="line">permits </div></div><!-- fragment --> is negative </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00524">524</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<a class="anchor" id="ab4a5b84b74814377abd7d8522f5cb226"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean java.util.concurrent.Semaphore.tryAcquire </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>permits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enumjava_1_1util_1_1concurrent_1_1_time_unit.html">TimeUnit</a>&#160;</td>
          <td class="paramname"><em>unit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws InterruptedException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acquires the given number of permits from this semaphore, if all become available within the given waiting time and the current thread has not been  Thread::interrupt interrupted}.</p>
<p>Acquires the given number of permits, if they are available and returns immediately, with the value</p><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --><p> , reducing the number of available permits by the given amount.</p>
<p>If insufficient permits are available then the current thread becomes disabled for thread scheduling purposes and lies dormant until one of three things happens: </p><ul>
<li>
Some other thread invokes one of the <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#ad439f289ee1827bac5bc35fbf077b63b">release</a> methods for this semaphore, the current thread is next to be assigned permits and the number of available permits satisfies this request; or </li>
<li>
Some other thread  Thread::interrupt interrupts} the current thread; or </li>
<li>
The specified waiting time elapses. </li>
</ul>
<p>If the permits are acquired then the value</p><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --><p> is returned.</p>
<p>If the current thread: </p><ul>
<li>
has its interrupted status set on entry to this method; or </li>
<li>
is  Thread::interrupt interrupted} while waiting to acquire the permits, </li>
</ul>
<p>then <a class="el" href="">InterruptedException</a> is thrown and the current thread's interrupted status is cleared. Any permits that were to be assigned to this thread, are instead assigned to other threads trying to acquire permits, as if the permits had been made available by a call to <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#ad439f289ee1827bac5bc35fbf077b63b">release()</a>.</p>
<p>If the specified waiting time elapses then the value</p><div class="fragment"><div class="line"><span class="keyword">false</span> </div></div><!-- fragment --><p> is returned. If the time is less than or equal to zero, the method will not wait at all. Any permits that were to be assigned to this thread, are instead assigned to other threads trying to acquire permits, as if the permits had been made available by a call to <a class="el" href="classjava_1_1util_1_1concurrent_1_1_semaphore.html#ad439f289ee1827bac5bc35fbf077b63b">release()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">permits</td><td>the number of permits to acquire </td></tr>
    <tr><td class="paramname">timeout</td><td>the maximum time to wait for the permits </td></tr>
    <tr><td class="paramname">unit</td><td>the time unit of the<div class="fragment"><div class="line">timeout </div></div><!-- fragment --> argument </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><div class="fragment"><div class="line"><span class="keyword">true</span> </div></div><!-- fragment --> if all permits were acquired and<div class="fragment"><div class="line"><span class="keyword">false</span> </div></div><!-- fragment --> if the waiting time elapsed before all permits were acquired </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">InterruptedException</td><td>if the current thread is interrupted </td></tr>
    <tr><td class="paramname">IllegalArgumentException</td><td>if<div class="fragment"><div class="line">permits </div></div><!-- fragment --> is negative </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_semaphore_8java_source.html#l00579">579</a> of file <a class="el" href="_semaphore_8java_source.html">Semaphore.java</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>E:/00_Code/openjdk8/java/util/concurrent/<a class="el" href="_semaphore_8java_source.html">Semaphore.java</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
